!function(){function a(a){var b,c=a||window.event;c.preventDefault?c.preventDefault():c.cancelBuble=!0,c=c.target||c.srcElement,b=c.parentNode.getControl(),b.getInput().focus()}function b(a,b){a._eTip&&(a._eTip.style.display=b?"":"none")}{var c=ecui,d=c.dom,e=c.string,f=c.ui,g=c.util,h=g.attachEvent,i=d.create,j=(e.trim,c.setFocused,g.blank),k=c.inherits,l=f.Control,m=l.prototype,n=f.InputControl,o=n.prototype,p=f.Input=k(n,"ui-input",function(a,b){b.resizable=!1},function(b,c){var d,e=this.getType();this.getInput().style.border="",c.maxLength&&(this._sMaxLength=c.maxLength),c.tip&&(d=i(e+"-tip","display:none"),d.innerHTML=c.tip,this.getBody().appendChild(d),this._eTip=d,h(this._eTip,"mousedown",a))}),q=p.prototype;f.Textarea=k(p,"ui-textarea",function(a,b){b.inputType="textarea"})}q.$keydown=function(){b(this,!1)},q.$keyup=function(){var a=this.getValue();this._sMaxLength&&baidu.string.getByteLength(a)>this._sMaxLength&&this.setValue(baidu.string.subByte(a,this._sMaxLength)),a||b(this,!0)},q.$blur=function(){m.$blur.call(this),b(this,!1),this.getValue()||b(this,!0)},q.$setSize=j,q.setValue=function(a){o.setValue.call(this,a),b(this,a?!1:!0)},q.init=function(){this.getValue()||b(this,!0),o.init.call(this)}}(),function(){function a(){var a=this.getParent(),b=a._nPage,c=a.getMaxPage(),d=this.getStep();u.$click.call(this),"+"==d.charAt(0)?(b+=parseInt(d.substring(1),10),b==a._nPage?b=c:b>c&&(b=a._nPage)):"-"==d.charAt(0)?(b-=parseInt(d.substring(1),10),b==a._nPage?b=1:1>b&&(b=a._nPage)):b=parseInt(d,10),a._nPage!=b&&o(a,"change",null,[b])}function b(a){var b,d,e,f=a._aPageBtn,g=a.getMaxPage(),h=a._nPage,i=a._nShowCount,j=parseInt(i/2,10),k=h-j>0?h-j:1;for(1==h?a._uPrvBtn.disable():a._uPrvBtn.enable(),h==g||0==g?a._uNxtBtn.disable():a._uNxtBtn.enable(),k+i-1>g&&g-i>=0&&(k=g-i+1),d=0;e=f[d];d++)b=k+d,e.setContent(b),e.setStep(b),e.setSelected(h==b),b>g?e.hide():e.show();c(a)}function c(a){var b,c=a._aPageBtn,d=a._aOMSBtn,e=a.getMaxPage();a._bOMSButton&&("1"!=c[0].getContent()?(c[0].setContent(1),c[0].setStep(1),d[0].show()):d[0].hide(),b=c[c.length-1],b.isShow()&&b.getContent()!=e?(b.setContent(e),b.setStep(e),d[1].show()):d[1].hide())}var d=ecui,e=d.dom,f=(d.string,d.array,d.ui),g=d.util,h=Math,i=e.create,j=e.children,k=g.extend,l=g.blank,m=d.$fastCreate,n=d.inherits,o=d.triggerEvent,p=f.Control,q=f.Button,r=f.Select,s=f.Item,t=f.Items,u=p.prototype,v=(q.prototype,s.prototype,r.prototype,f.Pager=n(p,"ui-pager",function(a,b){var c,d,e=this.getTypes()[0],f=[];for(d=this._nShowCount=!b.showCount||b.showCount<3?7:b.showCount,this._bOMSButton=b.omsButton!==!1,f.push('<div class="'+e+"-button-prv "+e+'-button">上一页</div><div class="'+e+'-items">'),c=0;d>c;c++)(1==c||c==d-1)&&f.push('<div class="'+e+'-item-oms" ecui="disabled:true">...</div>'),f.push('<div class="'+e+'-item"></div>');f.push('</div><div class="'+e+"-button-nxt "+e+'-button">下一页</div>'),a.innerHTML=f.join("")},function(a,b){a=j(a),this._bResizable=!1,this._nPage=b.page||1,this._nPageSize=b.pageSize||50,this._nTotal=b.total||0,this._uPrvBtn=m(this.Button,a[0],this),this.$setBody(a[1]),this._uNxtBtn=m(this.Button,a[2],this),this.$initItems()})),w=v.prototype,x=w.Button=n(q,"ui-pager-button",function(a){var b=this.getTypes()[0],c=i(b+"-icon");a.insertBefore(c,a.firstChild)}),y=x.prototype,z=(w.Item=n(s,"ui-pager-item",function(a,b){b.resizeable=!1})).prototype;k(w,t),z.$setSize=l,z.setSelected=function(a){this.alterClass((a?"+":"-")+"selected")},y.setStep=z.setStep=function(a){this._sStep=a+""},y.getStep=z.getStep=function(){return this._sStep},y.$click=z.$click=a,w.getMaxPage=function(){return h.ceil(this._nTotal/this._nPageSize)},w.getTotal=function(){return this._nTotal},w.getTotal=function(){return this._nTotal},w.go=function(a){this._nPage=a,b(this)},w.setPageSize=function(a){this._nPageSize=a,this._nPage=1,b(this)},w.setTotal=function(a){this._nTotal=a,this._nPage=1,b(this)},w.init=function(){var a,c,d=this.getItems();for(this._uPrvBtn.setStep("-1"),this._uNxtBtn.setStep("+1"),this._aOMSBtn=[],this._aPageBtn=[],u.init.call(this),a=0;c=d[a];a++)c.init(),1==a||a==d.length-2?(this._aOMSBtn.push(c),c.hide()):this._aPageBtn.push(c);b(this)},w.$setSize=l}(),function(){function a(a,b,c){var d,a=g.parseDate(a),e=null,f=[a.getFullYear(),a.getMonth(),a.getDate()],h={y:0,M:1,d:2};return b instanceof Date?(e=e||{},e.begin=b):/^([-+]?)(\d+)([yMd])$/.test(b)?(e=e||{},d=f.slice(),j.$1&&"+"!=j.$1?d[h[j.$3]]+=parseInt(j.$2,10):d[h[j.$3]]-=parseInt(j.$2,10),e.begin=new Date(d[0],d[1],d[2])):"[object String]"==Object.prototype.toString.call(b)&&(e=e||{},b=g.parseDate(b),e.begin=b),c instanceof Date?(e=e||{},e.end=c):/^([-+]?)(\d+)([yMd])$/.test(c)?(e=e||{},d=f.slice(),j.$1&&"+"!=j.$1?d[h[j.$3]]-=parseInt(j.$2,10):d[h[j.$3]]+=parseInt(j.$2,10),e.end=new Date(d[0],d[1],d[2])):"[object String]"==Object.prototype.toString.call(c)&&(e=e||{},c=g.parseDate(c),e.end=c),e?e:{}}function b(a){var b=a._eText;""==b.innerHTML?(a._uCancel.$hide(),a._bTip&&(b.innerHTML=K)):a._bCancelButton&&a._uCancel.show()}var c=ecui,d=c.array,e=c.dom,f=c.ui,g=c.string,h=c.util,i=Date,j=RegExp,k=document,l=(d.push,e.children),m=e.create,n=(e.getParent,e.getPosition),o=(e.moveElements,e.setText,g.formatDate),p=h.getView,q=c.$fastCreate,r=c.inherits,s=c.triggerEvent,t=c.setFocused,u=f.Control,v=u.prototype,w=f.Button,x=w.prototype,y=f.InputControl,z=y.prototype,A=f.Select,B=f.MonthView,C=(B.Cell,f.Calendar=r(y,"ui-calendar",function(a,b){var c=this.getTypes()[0];b.hidden=!0,a.innerHTML='<span class="'+c+'-text"></span><span class="'+c+'-cancel"></span><span class="'+c+'-button"></span>'},function(b,c){var d=l(b),e=this.getTypes()[0],f=m(e+"-panel","position:absolute;display:none");this._bTip=c.tip!==!1,this._oNow=g.parseDate(c.now),this._oDate=c.date?g.parseDate(c.date):null,this._eText=d[0],this._uCancel=q(this.Cancel,d[1],this),this._uButton=q(u,d[2],this),this._bCancelButton=c.cancelButton!==!1,this._bCancelButton||this._uCancel.$hide(),k.body.appendChild(f),this._uPanel=q(this.Panel,f,this,{date:this._oDate,range:a(c.now,c.start,c.end)})})),D=C.prototype,E=(D.Cancel=r(u)).prototype,F=D.Panel=r(u,"ui-calendar-panel",function(a,b){var c=[],d=((new i).getFullYear(),this.getTypes()[0]),e=new Date,f=e.getFullYear()-5,g=e.getFullYear()+5,h=b.range.begin,j=b.range.end;h&&(f=h.getFullYear()),j&&(g=j.getFullYear()),c.push('<div class="'+d+'-buttons"><div class="'+d+"-btn-prv"+w.TYPES+'"></div><select class="'+d+"-slt-year"+A.TYPES+'">');for(var k=f;g>=k;k++)c.push('<option value="'+k+'">'+k+"</option>");c.push('</select><select class="'+d+"-slt-month"+A.TYPES+'">');for(var k=1;12>=k;k++)c.push('<option value="'+k+'">'+(10>k?"0":"")+k+"月</option>");c.push('</select><div class="'+d+"-btn-nxt"+w.TYPES+'"></div></div>'),c.push('<div class="'+d+"-month-view"+B.TYPES+'"></div>'),a.innerHTML=c.join("")},function(a,b){{var c,d=(this.getTypes()[0],this.Button),e=this.Select,f=this.MonthView;b.date}a=l(a),c=l(a[0]),this._uPrvBtn=q(d,c[0],this),this._uPrvBtn._nStep=-1,this._uYearSlt=q(e,c[1],this),this._uMonthSlt=q(e,c[2],this),this._uNxtBtn=q(d,c[3],this),this._uNxtBtn._nStep=1,a=a[1],this._uMonthView=q(f,a,this,{begin:b.range.begin,end:b.range.end})}),G=F.prototype,H=(G.Button=r(w,null)).prototype,I=(G.Select=r(A,null)).prototype,J=(G.MonthView=r(B,null)).prototype,K='<span class="ui-calendar-default">请选择一个日期</span>',L="yyyy-MM-dd";D.getDate=function(){return this._oDate},D.setDate=function(a){var c=(this._uPanel,null!=a?o(a,L):"");this._uPanel.isShow()&&this._uPanel.hide(),this._eText.innerHTML=c,z.setValue.call(this,c),this._oDate=a,b(this)},D.setValue=function(a){this.setDate(a?g.parseDate(a):null)},D.$activate=function(a){var b,c=this._uPanel,d=n(this.getOuter()),e=d.top+this.getHeight();z.$activate.call(this,a),c.isShow()||(c.setDate(this.getDate()),b=p(),c.show(),c.setPosition(d.left+c.getWidth()<=b.right?d.left:b.right-c.getWidth()>0?b.right-c.getWidth():0,e+c.getHeight()<=b.bottom?e:d.top-c.getHeight()>0?d.top-c.getHeight():0),t(c))},D.$cache=function(a,b){z.$cache.call(this,a,b),this._uButton.cache(!1,!0),this._uPanel.cache(!0,!0)},D.init=function(){z.init.call(this),this.setDate(this._oDate),this._uPanel.init()},D.clear=function(){this.setDate(null)},D.setRange=function(a,b){this._uPanel._uMonthView.setRange(a,b)},E.$click=function(){{var a=this.getParent();a._uPanel}v.$click.call(this),a.setDate(null)},E.$activate=x.$activate,G.$blur=function(){this.hide()},G.setDate=function(a){var b=this.getParent()._oNow||new Date,c=null!=a?a.getFullYear():b.getFullYear(),d=null!=a?a.getMonth()+1:b.getMonth()+1;this._uMonthView.$setDate(a),this.setView(c,d)},G.setView=function(a,b){var c=this._uMonthSlt,d=this._uYearSlt,e=this._uMonthView;d.setValue(a),c.setValue(b),e.setView(a,b)},G.getViewYear=function(){return this._uMonthView.getYear()},G.getViewMonth=function(){return this._uMonthView.getMonth()},G.$cache=function(a,b){this._uPrvBtn.cache(!0,!0),this._uNxtBtn.cache(!0,!0),this._uMonthSlt.cache(!0,!0),this._uYearSlt.cache(!0,!0),this._uMonthView.cache(!0,!0),v.$cache.call(this,a,b)},G.init=function(){v.init.call(this),this._uMonthSlt.init(),this._uYearSlt.init(),this._uMonthView.init()},G.$change=function(a,b){var c=this.getParent();s(c,"change",a,[b])&&c.setDate(b),this.hide()},I.$change=function(){var a=this.getParent(),b=a._uYearSlt,c=a._uMonthSlt;a.setView(b.getValue(),c.getValue())},H.$click=function(){var a,b=this._nStep,c=this.getParent();a=new i(c.getViewYear(),c.getViewMonth()-1+b,1),c.setView(a.getFullYear(),a.getMonth()+1)},J.$change=function(a,b){s(this.getParent(),"change",a,[b])},D.open=function(){return this.isDisabled()||this._uPanel.isShow()?!1:(this.$activate(),!0)}}(),function(){function a(a){var b=['<div class="'+a+'-title">'],c=(new Date).getTime();return b.push('<input type="radio" name="opt'+c+'" value="def" id="optDef'+c+'" /><label for="optDef'+c+'">默认</label>'),b.push('<input type="radio" name="opt'+c+'" value="all" id="optAll'+c+'" /><label for="optAll'+c+'">全部</label>'),b.push('<input type="radio" name="opt'+c+'" value="custom" id="optCustom'+c+'" /><label for="optCustom'+c+'">自定义</label>'),b.push("</div>"),b.join("")}function b(a,b){for(var c,d=0;c=a[d];d++)t(c,"click",function(a){return function(){b.$changeType(a)}}(c.value)),b._aTypeRadio[c.value]=c}function c(a,b){t(a,"click",function(){l(b.getParent(),"itemclick")})}function d(a){var b,c,d=!0;for(b=0;c=a._aItems[b];b++)if(c.isDefChecked()!=c.isChecked()){d=!1;break}return d}var e=ecui,f=e.ui,g=e.dom,h=e.string,i=e.util,j=e.$fastCreate,k=e.inherits,l=e.triggerEvent,m=e.getOptions,n=e.dispose,o=g.children,p=g.create,q=g.moveElements,r=h.trim,s=(h.encodeHTML,i.blank),t=i.attachEvent,u=f.Control,v=u.prototype,w=f.CustomCheckboxs=k(u,"ui-custom-checkboxs",function(b,c){var d=p(),e=this.getTypes()[0],f=[a(e)];f.push('<div class="'+e+'-items"></div>'),q(b,d,!0),b.innerHTML=f.join(""),q(d,b.lastChild,!0),c.resizeable=!1},function(a,c){var d,e=o(a);d=e[0].getElementsByTagName("input"),this._aTypeRadio={},b(d,this),this.$setBody(e[1]),this.$initItems(c.data)}),x=w.prototype,y=x.Item=k(u,"ui-custom-checkboxs-item",function(a,b){var c=[];b.name=b.name||r(a.innerHTML),b.resizeable=!1,c.push('<input type="checkbox" value="'+b.value+'" id="opt'+b.value+'" />'),c.push('<label for="opt'+b.value+'">'+b.name+"</label>"),a.innerHTML=c.join("")},function(a,b){this._eInput=o(a)[0],this._sName=b.name,this._sValue=b.value,this._bDefChecked=b.defChecked===!0,b.checked&&(this._eInput.checked=!0),c(this._eInput,this)}),z=y.prototype;x.$setSize=s,x.init=function(){v.init.call(this),this.$itemclick()},x.$changeType=function(a){var b,c;if(a!=this._sValueType&&(this._sValueType=a,"custom"!=a))for(b=0;c=this._aItems[b];b++)"all"==a?c.setChecked(!0):"def"==a&&c.setChecked(c.isDefChecked())},x.$initItems=function(a){var b,c,d=a||o(this.getBody());for(this._aItems=[],b=0;c=d[b];b++)this.add(c)},x.add=function(a){var b,c=this.getTypes()[0];a.nodeName&&1==a.nodeType?(a.className=c+"-item",b=m(a)):(b=a,a=p(c+"-item","","span"),this.getBody().appendChild(a)),this._aItems.push(j(this.Item,a,this,b))},x.setData=function(a){var b;if(this._aItems&&this._aItems.length>0)for(b=this._aItems.length-1;b-->=0;)n(this._aItems[b]);this.setContent(""),this.$initItems(a),this.$itemclick()},x.getValue=function(){var a,b,c=[];for(a=0;b=this._aItems[a];a++)b.isChecked()&&c.push(b.getValue());return c},x.setValue=function(a){var b,c,d={};for(b=0;c=a[b];b++)d[c]=!0;for(b=0;c=this._aItems[b];b++)c.setChecked(d[c.getValue()]?!0:!1);this.$itemclick()},x.setValueType=function(a){this.$changeType(a)},x.getValueType=function(){return this._sValueType},x.$itemclick=function(){var a=this.getValue();a.length==this._aItems.length?(this._aTypeRadio.all.checked=!0,this._sValueType="all"):d(this)?(this._aTypeRadio.def.checked=!0,this._sValueType="def"):(this._aTypeRadio.custom.checked=!0,this._sValueType="custom")},z.$setSize=s,z.getValue=function(){return this._sValue},z.setChecked=function(a){this._eInput.checked=a},z.isChecked=function(){return this._eInput.checked},z.isDefChecked=function(){return this._bDefChecked}}(),function(){function a(a){a.setClass(a.getPrimary()+(a._aChildren.length?a._bCollapsed?"-collapsed":"-expanded":""))}var b=ecui,c=b.array,d=b.ui,c=b.array,e=b.dom,f=b.string,g=b.util,h=(b.$fastCreate,b.getMouseX),i=b.inherits,j=b.getOptions,k=b.dispose,l=b.triggerEvent,m=g.extend,n=c.indexOf,m=g.extend,o=g.toNumber,p=e.getStyle,q=e.first,r=e.insertAfter,s=f.trim,t=g.blank,u=d.Control,v=u.prototype,w=d.TreeView,x=w.prototype,y=d.DataTree=i(w,"ui-data-tree",function(a,b){b.expandSelected=b.expandSelected===!0,q(a)&&"divlabel".indexOf(q(a).tagName.toLowerCase())>=0&&m(b,j(q(a))),b.value&&(b.value+=""),b.resizable=!1},function(a,b){this._aSelected=[],this._sValue=b.value,this._bHideRoot=b.hideRoot===!0,this._bSelectAble=b.selectable!==!1,this._bMultiSelect=b.multi===!0,this._bAsyn=b.asyn,b.asyn&&this._aChildren.length<=0&&(this.add("Loadding",null),this.collapse(),this._bNeedAsyn=!0)}),z=y.prototype;z.init=function(){x.init.call(this),this._bHideRoot&&this==this.getRoot()&&(this.hide(),this.expand())},z.$setParent=function(b){var c,d=this.getRoot(),e=d._aSelected,f=this.getParent();(c=n(e,this))>=0&&d.$setSelected(this,!1),this!==d&&(remove(f._aChildren,this),a(f)),v.$setParent.call(this,b),this._eChildren&&r(this._eChildren,this.getOuter())},z.getValue=function(){return this._sValue},z.getText=function(){return s(this.getContent().replace(/<[^>]+>/g,""))},z.getSelected=function(){return this==this.getRoot()?this._aSelected.slice():void 0},z.getSelectedValues=function(){var a,b,c=[];if(this==this.getRoot()){for(a=0;b=this._aSelected[a];a++)c.push(b.getValue());return this._bMultiSelect?c:c[0]}},z.setValues=function(a){var b;if(n(a,this._sValue)>=0)for(this.getRoot().$setSelected(this,!0),b=this;(b=b.getParent())&&b instanceof w;)b.isCollapsed()&&b.expand();for(var b,c=0;b=this._aChildren[c];c++)b.setValues(a)},z.getItemByValue=function(a){var b=null;this._sValue==a&&(b=this);for(var c,d=0;(c=this._aChildren[d])&&null==b;d++)b=c.getItemByValue(a);return b},z.load=function(a){var b,c,d;for(b=0;c=this._aChildren[b];b++)k(c);for(this._aChildren=[],this._eChildren.innerHTML="",b=0;c=a[b];b++)d=c.text,c=m({asyn:this._bAsyn},c),delete c.text,this.add(d,null,c).init()},z.$expand=function(a){var b=a.getRoot();a._bNeedAsyn&&(l(b,"load",null,[a.getValue(),function(b){a.load(b)}]),a._bNeedAsyn=!1)},z.$click=function(a){var b=null;a.getControl()==this&&(v.$click.call(this,a),h(this)<=o(p(this.getBody(),"paddingLeft"))?(this[a=this.isCollapsed()?"expand":"collapse"](),l(this.getRoot(),a,null,[this])):(n(this.getRoot()._aSelected,this)>=0?this._bMultiSelect&&(b=!1):b=!0,this.getRoot().setSelected(this),l(this.getRoot(),"select",null,[this,1==b]),null!==b&&l(this.getRoot(),"change",null,[this.getValue(),b])))},z.getSelectedText=function(){var a,b,c=[];if(this==this.getRoot()){for(a=0;b=this._aSelected[a];a++)c.push(b.getText());return c.join(",")}},z.setSelectAble=function(a){var b,c=this.getRoot();!this.enable&&(b=n(c._aSelected,this))>=0&&c.$setSelected(this,!1),this._bSelectAble=a},z.$setSelected=function(a,b){var c,d;this==this.getRoot()&&(c=this._aSelected,d=n(c,a),b===!0?0>d&&(c.push(a),a.alterClass("+selected")):b===!1&&d>=0&&(c.splice(d,1),a.alterClass("-selected")))},z.clearSelected=function(){var a,b;if(this==this.getRoot())for(a=this._aSelected;b=a[0];)this.$setSelected(b,!1)},z.setSelected=function(a,b){var c,d;this==this.getRoot()&&a._bSelectAble&&(c=this._aSelected,d=n(c,this),(d=n(c,a))>=0?!b&&this._bMultiSelect&&this.$setSelected(a,!1):(!this._bMultiSelect&&c.length>=1&&this.$setSelected(c[0],!1),this.$setSelected(a,!0)),a&&this._bExpandSelected&&a.expand())},z.$setSize=t}(),function(){function a(a){var b,c,d=[];for(b=0;c=a[b];b++)d.push(j({},c));return d}function b(a,b){var c,d=[];a=j({},a),a=j(a,u);for(var e in a)c={handler:a[e]},e=e.split(/\s+/),e[0]==b&&(c.selector=e[1],d.push(c));return d}function c(a,b){var c,d,e,f=!0;return a||b?(b.replace(/^([^.#]*)([.#]?)(.*)$/,function(a,b,f,g){c=b,e=f,d=g}),c&&a.tagName.toLowerCase()!=c&&(f=!1),"."!=e||new RegExp("(^|\\s+)"+d+"(\\s+|$)").test(a.className)||(f=!1),"#"==e&&a.id!=d&&(f=!1),f):!1}function d(a,b,c){var d,e,f,g,h,i,j=[];for(d=0;e=b[d];d++){for(j.push('<tr class="'+c+'-row">'),f=0;g=a[f];f++)i=c+"-cell",g.align?i+=" "+c+"-cell-align-"+g.align:g.checkbox&&(i+=" "+c+"-cell-align-center"),j.push('<td class="'+i+'">'),g.checkbox?(j.push('<input type="checkbox" value="'+e[g.content]+'" class="'+c+'-checkbox"'),g.checkedField&&1==e[g.checkedField]&&j.push(' checked="checked"'),j.push(" />")):"function"==typeof g.content?j.push(g.content.call(null,e,d)):(h=e[g.content],h=h||0==h?m(h+""):"&nbsp;",j.push(h)),j.push("</td>");j.push("</tr>")}return j.join("")}var e,f=ecui,g=f.string,h=f.ui,i=f.util,g=f.string,j=i.extend,k=i.blank,l=i.attachEvent,m=g.encodeHTML,n=f.inherits,o=f.triggerEvent,p=h.Control,q=p.prototype,r=h.LiteTable=n(p,"ui-lite-table",function(a,b){b.resizable=!1},function(a,b){this._aData=[],this._aFields=[],this._eCheckboxAll=null,this._aCheckboxs=[],this._sEmptyText=b.emptyText||"暂无数据",this._bCheckedHighlight=b.checkedHighlight===!0}),s=r.prototype,t=["click","mouseup","mousedown"],u={"click th.ui-lite-table-hcell-sort":function(a,b){var c,d=this.getAttribute("data-field");c=this.className.indexOf("-sort-desc")>=0?"asc":this.className.indexOf("-sort-asc")>=0?"desc":this.getAttribute("data-orderby")||"desc",o(b,"sort",null,[d,c])},"click input.ui-lite-table-checkbox-all":function(a,b){b.$refreshCheckbox(this.checked)},"click input.ui-lite-table-checkbox":function(a,b){b.$refreshCheckbox()}};s.$setSize=k,s.init=function(){var a,b,c=this.getOuter(),d=this;for(q.init.call(this),a=0;b=t[a];a++)l(c,b,function(a){return function(b){var c=b||window.event;c.targetElement=c.target||c.srcElement,d.$fireEventHanlder(a,c)}}(b))},s.setData=function(b,c,d){this._aData=a(b),c&&(this._sSortby=c.sortby||"",this._sOrderby=c.orderby||""),!d&&this.render()},s.getData=function(){return a(this._aData)},s.getDataByField=function(a,b){var c,d;for(b=b||"id",c=0;d=this._aData[c];c++)if(d[b]==a)return j({},d);return null},s.setFields=function(b,c){this._aFields=a(b),!c&&this.render()},s.getSelection=function(){var a,b,c=[];for(a=0;b=this._aCheckboxs[a];a++)b.checked&&c.push(b.value);return c},s.render=function(){var a,b,c,e=this.getTypes()[0],f=['<table cellpadding="0" cellspacing="0" width="100%" class="'+e+'-table">'],g=this._aFields,h=this._aData;if(g&&!(g.length<=0)){for(f.push('<tr class="'+e+'-head">'),a=0;b=g[a];a++)c=e+"-hcell",b.checkbox?(c+=" "+e+"-hcell-checkbox",f.push('<th class="'+c+'"><input type="checkbox" class="'+e+'-checkbox-all" /></th>')):(f.push("<th"),b.width&&f.push(' width="'+b.width+'"'),b.sortable&&(c+=" "+e+"-hcell-sort",b.field&&b.field==this._sSortby&&(c+=" "+e+"-hcell-sort-"+this._sOrderby),f.push(' data-field="'+b.field+'"'),b.orderby&&f.push(' data-orderby="'+b.orderby+'"')),f.push(' class="'+c+'">'+b.title+"</th>"));f.push("</tr>"),f.push(!h||h.length<=0?'<tr class="'+e+'-row"><td colspan="'+g.length+'" class="'+e+'-cell-empty">'+this._sEmptyText+"</td></tr>":d(g,h,e)),f.push("</table>"),this.setContent(f.join("")),this.$bindCheckbox(),this._eCheckboxAll&&this.$refreshCheckbox()}},s.$bindCheckbox=function(){var a,b,c=this.getBody().getElementsByTagName("input"),d=this.getTypes()[0];for(this._aCheckboxs=[],this._eCheckboxAll=null,a=0;b=c[a];a++)"checkbox"==b.type&&b.className.indexOf(d+"-checkbox-all")>=0?this._eCheckboxAll=b:"checkbox"==b.type&&b.className.indexOf(d+"-checkbox")>=0&&this._aCheckboxs.push(b)},s.$refreshCheckbox=function(a){var b,c,d,f=!0;for(b=0;c=this._aCheckboxs[b];b++)d=c.parentNode.parentNode,a!==e?c.checked=a:f=c.checked&&f,c.checked&&this._bCheckedHighlight?d.className+=" highlight":this._bCheckedHighlight&&(d.className=d.className.replace(/\s+highlight/g,""));this._eCheckboxAll.checked=a!==e?a:f},s.$fireEventHanlder=function(a,d){var e,f,g=b(this.events,a),h=d.targetElement;for(e=0;f=g[e];e++)c(h,f.selector)&&f.handler.call(h,d,this)},s.$dispose=function(){this._aCheckboxs=[],this._eCheckboxAll=null,q.$dispose.call(this)}}(),function(){function a(a,b){var c=a.getItems();if(a._bSelectAllBtn)if(void 0===b)b=a.getSelected().length===c.length-1,c[0].$setSelected(b);else for(var d,e=0;d=c[e];e++)d.$setSelected(b)}function b(a){var b;if(a){for(var c,d=0,e=a.getItems(),f=[];c=e[d++];)c.isSelected()&&!c._bSelectAllBtn&&f.push(c._sTip);b='<span title="'+f.join(",")+'">',f.length==e.length+(a._bSelectAllBtn?-1:0)&&a._sTextAll?f=a._sTextAll:(f=f.join(","),a._nTextLen&&f.length>a._nTextLen&&(f=f.substring(0,a._nTextLen)+"...")),a._bTip&&(f=b+f+"</span>"),a.$getSection("Text").setContent(f||"<span style='color:#CCC'>请选择</span>")}}var c=ecui,d=c.array,e=c.dom,f=c.ui,g=c.util,h=d.indexOf,i=e.getText,j=(e.remove,e.create),k=e.setInput,l=g.extend,m=(g.inherits,c.getKey),n=(c.mask,c.inherits),o=c.triggerEvent,p=f.InputControl,q=p.prototype,r=f.Items,s=f.Select,t=s.prototype,u=t.Item,v=u.prototype,w=f.MultiSelect=n(s,"ui-multi-select",function(a,b){b.hide=!0,b.value&&(b.value=b.value.toString())},function(a,b){b.maxlength&&(this._nTextLen=b.maxlength),b.textAll&&(this._sTextAll=b.textAll),b.maxSelected?this._nMaxSelected=b.maxSelected:b.selectAllButton||(this.add('<span class="all">全部</span>',0,{selectAllButton:!0,value:""}),this._bSelectAllBtn=!0),b.tip&&(this._bTip=!0),void 0!==b.value&&this.setValue(b.value),b.selectAll&&(this._bInitSelectAll=!0),b.minSelected&&(this._nMinSelected=b.minSelected),this._eInput.disabled=!0}),x=w.prototype,y=x.Item=n(u,"ui-multi-select-item",function(a,b){var c=this.getTypes()[0],d=j(c+"-icon");this._bSelectAllBtn=b.selectAllButton,this._sTip=b.tip?b.tip:i(a),a.insertBefore(d,a.firstChild),a=this._eInput=b.parent.getMain().appendChild(k(null,b.parent.getName(),"checkbox")),void 0!==b.value&&(a.value=b.value),a.style.display="none"}),z=y.prototype;l(x,r),z.$click=function(a){var b=this.getParent(),c=b.getSelected().length;v.$click.call(this,a),this.isSelected()?(!b._nMinSelected||b._nMinSelected<=c-1)&&this.setSelected(!1):(!b._nMaxSelected||b._nMaxSelected>=c+1)&&this.setSelected(!0)},z.$dispose=function(){this._eInput=null,v.$dispose.call(this)},z.isSelected=function(){return this._eInput.checked},z.$setSelected=function(a){this._eInput.checked=a!==!1,this.setClass(this.getPrimary()+(this._eInput.checked?"-selected":""))},z.setSelected=function(c){this.$setSelected(c),a(this.getParent(),this._bSelectAllBtn?c:void 0),b(this.getParent())},x.$alterItems=function(){t.$alterItems.call(this),a(this),b(this)},x.$append=function(a){t.$append.call(this,a),this.getMain().appendChild(k(a._eInput,this.getName()))},x.$cache=t.$cache,x.$intercept=function(a){for(var b=a.getControl();b;b=b.getParent())if(b instanceof y)return a.target=b.getOuter(),!1;this.$getSection("Options").hide(),o(this,"change"),a.exit()},x.$keydown=x.$keypress=x.$keyup=function(a){if(q["$"+a.type].call(this,a),!this.$getSection("Options").isShow())return!1;var b=m();return 13==b||32==b?("keyup"==a.type&&(b=this.getActived(),b.setSelected(!b.isSelected())),!1):void 0},x.$mousewheel=function(a){var b=this.$getSection("Options");return b.isShow()&&b.$mousewheel(a),!1},x.$deactivate=t.$deactivate,x.$activate=function(a){var b=a.getControl();b instanceof y||t.$activate.call(this,a)},x.$ready=function(){if(a(this),b(this),this._bInitSelectAll)for(var c,d=0,e=this.getItems();c=e[d++];)!c._bSelectAllBtn&&c.setSelected(!0)},x.$remove=function(a){t.$remove.call(this,a),this.getMain().removeChild(a._eInput)},x.$setSize=t.$setSize,x.getLayer=function(){return this._uOptions},x.getSelected=function(){for(var a,b=0,c=this.getItems(),d=[];a=c[b++];)a.isSelected()&&!a._bSelectAllBtn&&d.push(a);return d},x.getValue=function(){var a,b,c=this.getSelected(),d=[];for(a=0,b=c.length;b>a;a++)c[a]._bSelectAllBtn||d.push(c[a]._eInput.value);return d},x.selectAll=function(){for(var a,b=0,c=this.getItems();a=c[b++];)!a._bSelectAllBtn&&a.setSelected(!0)},x.isSelectAll=function(){for(var a,b=0,c=this.getItems();a=c[b++];)if(!a.isSelected())return!1;return!0},x.setOptionSize=t.setOptionSize,x.setValue=function(c){"[object Array]"!=Object.prototype.toString.call(c)&&(c=c.toString().split(","));for(var d,e=0,f=this.getItems();d=f[e++];)d.setSelected(h(c,d._eInput.value)>=0);a(this),b(this)}}(),function(){var a=ecui,b=(a.array,a.dom),c=a.ui,d=a.util,e=(a.string,a.$fastCreate),f=a.setFocused,g=b.create,h=b.children,i=b.moveElements,j=b.getPosition,k=a.inherits,l=a.triggerEvent,m=d.getView,n=d.blan,o=c.Control,p=o.prototype,q=c.Button,r=q.prototype,s=c.Pop=k(o,"ui-pop",null,function(a,b){var c,d=this.getTypes()[0],f=g();a.style.position="absolute",b.noButton!==!0&&(f.innerHTML='<div class="'+d+'-buttons"><div class="ui-button ui-button-g">确定</div><div class="ui-button">取消</div></div>',c=h(f.firstChild),this._uSubmitBtn=e(this.Button,c[0],this,{command:"submit",primary:"ui-button-g"}),this._uCancelBtn=e(this.Button,c[1],this,{command:"cancel"}),i(f,a,!0))}),t=s.prototype;UI_POP_BTN=t.Button=k(q,null,function(a,b){this._sCommand=b.command}),UI_POP_BTN_CLASS=UI_POP_BTN.prototype,t.show=function(a,b){var c,d,e=m(),g=j(a.getOuter());p.show.call(this),this.resize(),d=this.getWidth(),c=a.getHeight()+g.top,d=b||"left"!=b?g.left+a.getWidth()-d<0?g.left:g.left+a.getWidth()-d:g.left+d>e.right?g.left+a.getWidth()-d:g.left,c+this.getHeight()>e.bottom&&(c=e.bottom-this.getHeight());var h=j(this.getOuter().offsetParent);d-=h.left,c=c-h.top+document.body.scrollTop,this.setPosition(d,c),f(this)},t.$resize=function(){var a=this._eMain,b=a.style;b.width=this._sWidth,b.height=this._sHeight,this.repaint()},t.init=function(){p.init.call(this),this.$hide()},t.$blur=function(){this.hide(),l(this,"cancel")},UI_POP_BTN_CLASS.$click=function(){var a=this.getParent();r.$click.call(this),l(a,this._sCommand)&&(a.$blur=n,a.hide(),delete a.$blur)};var u=c.PopButton=k(q,"ui-pop-button",function(a,b){var c=this.getTypes()[0],d=g(c+"-icon","position:absolute");this._sAlign=b.align,a.appendChild(d),this._sTargetId=b.target},function(a,b){var c=this.getTypes()[0];"text"==b.mode&&this.setClass(c+"-text")}),v=u.prototype;v.$click=function(){var b;r.$click.call(this),this._sTargetId&&(b=a.get(this._sTargetId),b.show(this,this._sAlign))}}(),function(){var a=ecui,b=a.ui,c=a.dom,d=a.string,e=a.$fastCreate,f=a.inherits,g=a.triggerEvent,h=a.getOptions,i=c.children,j=c.create,k=d.trim,l=b.Control,m=(b.PsTip,l.prototype,b.Radio),n=m.prototype,o=b.QueryTab=f(l,"ui-query-tab",null,function(a,b){var c,d,f=i(a),g=this.getTypes()[0],j=b.value;for(this._sName=b.name,this._aItems=[],this._bIsEnabled=!0,c=0;d=f[c];c++){var l=h(d);void 0==l.name&&(l.name=this._sName),d.className=k(d.className)+" "+g+"-item"+m.TYPES,this._aItems[c]=e(this.Item,d,this,l),void 0!==j&&j==this._aItems[c].getValue()&&(this._aItems[c].setChecked(!0),this._oCurChecked=this._aItems[c])}}),p=o.prototype,q=p.Item=f(m,"ui-query-tab-item",null,function(b,c){var d;c.tip&&(d=j("ui-tip","","span"),d.setAttribute("ecui","type:tip"),d.innerHTML=c.tip,b.appendChild(d),a.init(d))}),r=q.prototype;r.$click=function(){var a=this.getParent(),b=a._oCurChecked;return a._bIsEnabled?(n.$click.call(this),void(b&&b!=this&&(a._oCurChecked=this,g(this.getParent(),"change",null,[this.getValue()])))):(a.onLocked.call(),null)},r.getItems=function(){return this.getParent().getItems()},p.getItems=function(){return this._aItems.slice()},p.getValue=function(){return this._oCurChecked?this._oCurChecked.getValue():null},p.getName=function(){return this._sName},p.onLocked=function(){},p.setEnabled=function(a){this._bIsEnabled=!!a},p.setValue=function(a){for(var b,c=0;b=this._aItems[c];c++)b.getValue()==a&&(b.setChecked(!0),this._oCurChecked=b)}}(),function(){function a(){var a;return s||(a=document.body.appendChild(h(v.TYPES)),s=g(v,a),s.cache(),s.init()),s}var b=ecui,c=(b.array,b.dom),d=b.ui,e=b.util,f=b.string,g=b.$fastCreate,h=(b.setFocused,c.create),i=c.children,j=(c.last,c.moveElements,c.getPosition),k=(c.setText,b.inherits),l=(b.isContentBox,b.getStatus,e.getView),m=b.triggerEvent,n=f.trim,o=d.Control,p=o.prototype,q=500,r=200,s=(b.REPAINT,null),t=d.Tip=k(o,"ui-tip",function(a,b){b.message=n(a.innerHTML)||b.message,a.innerHTML=""},function(a,b){this._sTarget=b.target,this._sMessage=b.message,this._oTimer=null,this._bAsyn=b.asyn===!0,this._bLoad=!1}),u=t.prototype,v=u.Layer=k(o,"ui-tip-layer",function(a){a.appendChild(h(this.getTypes()+"-corner")),a.appendChild(h())},function(a){a=i(a),this._eCorner=a[0],this.$setBody(a[1])}),w=v.prototype;u.$mouseover=function(){var b=this;if(p.$mouseover.call(this),clearTimeout(this._oTimer),!this._bShow)if(this._bAsyn){{a()}this.close(),b._oTimer=setTimeout(function(){b._bLoad=!1,m(b,"loadData",function(){b.open()})},q)}else this._oTimer=setTimeout(function(){b.open()},q)},u.$mouseout=function(){var a=this;p.$mouseout.call(this),clearTimeout(this._oTimer),this._bShow&&(this._oTimer=setTimeout(function(){a.close()},r))},u.$getTarget=function(a){return document.getElementById(a)},u.setTarget=function(a){this._sTarget=a},u.open=function(){var b=a();if(this._sTarget){var c=this.$getTarget(this._sTarget);c&&(b.getBody().innerHTML="[object String]"==Object.prototype.toString.call(c)?c:c.innerHTML)}else this._sMessage&&b.setContent(this._sMessage);b.show(this),this._bShow=!0},u.close=function(){a().hide(),this._bShow=!1},w.show=function(a){var b=j(a.getOuter()),c=this.getTypes()[0],d=l(),e=13,f=a.getWidth(),g=a.getHeight(),h=9,i=[];a&&(this._uHost=a),p.show.call(this),this.resize(),b.left+this.getWidth()>d.right?(b.left=b.left+f-this.getWidth()+h,i.push("-right")):(b.left=b.left-h,i.push("-left")),b.top-e-this.getHeight()<d.top&&b.top+g+e+this.getHeight()<d.bottom?(b.top+=g+e,i.push("-bottom")):(b.top-=e+this.getHeight(),i.push("-top")),this._eCorner.className=c+"-corner "+c+"-corner"+i.join(""),this.setPosition(b.left,b.top)},w.$mouseover=function(){p.$mouseover.call(this),this._uHost.$mouseover()},w.$mouseout=function(){p.$mouseout.call(this),this._uHost.$mouseout()},w.$resize=function(){var a=this._eMain,b=a.style;b.width=this._sWidth,b.height=this._sHeight,this.repaint()}}();