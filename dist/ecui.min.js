var ecui;!function(){function a(a,b){for(;a&&1!=a.nodeType;a=a[b]);return a}var b,c=ecui={},d=c.array={},e=c.dom={},f=(c.ext={},c.json={}),g=c.string={},h=(c.ui={},c.util={}),i=window,j=document,k=Date,l=Function,m=Math,n=RegExp,o=m.abs,p=(m.ceil,m.floor),q=m.max,r=(m.min,m.pow,m.round,parseInt),s=isNaN,t=navigator.userAgent,u="CSS1Compat"==j.compatMode,v=/msie (\d+\.\d)/i.test(t)?j.documentMode||n.$1-0:b,w=/firefox\/(\d+\.\d)/i.test(t)?n.$1-0:b,x=/opera\/(\d+\.\d)/i.test(t)?n.$1-0:b,y=/(\d+\.\d)(\.\d)?\s+safari/i.test(t)&&!/chrome/i.test(t)?n.$1-0:b,z={utf8:{byteLength:function(a){return a.replace(/[\x80-\u07ff]/g,"  ").replace(/[\u0800-\uffff]/g,"   ").length},codeLength:function(a){return a>2047?3:a>127?2:1}},gbk:{byteLength:function(a){return a.replace(/[\x80-\uffff]/g,"  ").length},codeLength:function(a){return a>127?2:1}},"":{byteLength:function(a){return a.length},codeLength:function(a){return 1}}},A={display:v<8?{get:function(a,b){return"inline"==b.display&&1==b.zoom?"inline-block":b.display},set:function(a,b){"inline-block"==b&&(b="inline",a.style.zoom=1),a.style.display=b}}:w<3?{get:function(a,b){return"-moz-inline-box"==b.display?"inline-block":b.display},set:function(a,b){a.style.display="inline-block"==b?"-moz-inline-box":b}}:b,opacity:v?{get:function(a,b){return/alpha\(opacity=(\d+)/.test(b.filter)?(n.$1-0)/100+"":"1"},set:function(a,b){a.style.filter=a.style.filter.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*b+")"}}:b,float:v?"styleFloat":"cssFloat"},B=(d.indexOf=function(a,b){for(var c=a.length;c--&&a[c]!==b;);return c},d.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1)},e.addClass=function(a,b){a.className+=" "+b},e.children=function(a){for(var b=[],c=a.firstChild;c;c=c.nextSibling)1==c.nodeType&&b.push(c);return b},e.contain=w?function(a,b){return a==b||!!(16&a.compareDocumentPosition(b))}:function(a,b){return a.contains(b)},e.create=function(a,b,c){return c=j.createElement(c||"DIV"),a&&(c.className=a),b&&(c.style.cssText=b),c}),C=(e.first=function(b){return a(b.firstChild,"nextSibling")},e.getAttribute=v<8?function(a,b){return a[b]}:function(a,b){return a.getAttribute(b)}),D=e.getParent=v?function(a){return a.parentElement}:function(a){return a.parentNode},E=(e.getPosition=function(a){var b=0,c=0,d=j.body,e=D(d);if(v)u||(f=E(d),s(b=r(f.borderTopWidth))&&(b=-2),s(c=r(f.borderLeftWidth))&&(c=-2)),f=a.getBoundingClientRect(),b+=e.scrollTop+d.scrollTop-e.clientTop+p(f.top),c+=e.scrollLeft+d.scrollLeft-e.clientLeft+p(f.left);else if(a==d)b=e.scrollTop+d.scrollTop,c=e.scrollLeft+d.scrollLeft;else if(a!=e){for(f=a;f;f=f.offsetParent)b+=f.offsetTop,c+=f.offsetLeft;(x||/webkit/i.test(t)&&"absolute"==E(a,"position"))&&(b-=d.offsetTop);for(var f=D(a),g=E(a);f!=d;f=D(f),g=a)c-=f.scrollLeft,x?"TR"!=f.tagName&&(b-=f.scrollTop):(a=E(f),e=w&&"visible"!=a.overflow&&"absolute"==g.position?2:1,b+=N(a.borderTopWidth)*e-f.scrollTop,c+=N(a.borderLeftWidth)*e)}return{top:b,left:c}},e.getStyle=function(a,b){var c=A[b],d=a.currentStyle||(v?a.style:getComputedStyle(a,null));return b?c&&c.get?c.get(a,d):d[c||b]:d}),F=(e.getText=w?function(a){return a.textContent}:function(a){return a.innerText},e.insertAfter=function(a,b){var c=D(b);return c?c.insertBefore(a,b.nextSibling):G(a)},e.insertBefore=function(a,b){var c=D(b);return c?c.insertBefore(a,b):G(a)},e.insertHTML=w?function(a,b,c){var d={AFTERBEGIN:"selectNodeContents",BEFOREEND:"selectNodeContents",BEFOREBEGIN:"setStartBefore",AFTEREND:"setEndAfter"}[b.toUpperCase()],e=j.createRange();e[d](a),e.collapse(b.length>9),e.insertNode(e.createContextualFragment(c))}:function(a,b,c){a.insertAdjacentHTML(b,c)}),G=(e.last=function(b){return a(b.lastChild,"previousSibling")},e.empty=function(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a},e.moveElements=function(a,b,c){for(var d=a.firstChild;d;d=a)a=d.nextSibling,(c||1==d.nodeType)&&b.appendChild(d)},e.next=function(b){return a(b.nextSibling,"nextSibling")},e.remove=function(a){var b=D(a);return b&&b.removeChild(a),a}),H=(e.removeClass=function(a,b){for(var c=a.className.split(/\s+/).sort(),d=b.split(/\s+/).sort(),e=c.length,f=d.length;e&&f;)c[e-1]==d[f-1]?c.splice(--e,1):c[e-1]<d[f-1]?f--:e--;a.className=c.join(" ")},e.setInput=function(a,c,d){if(!a)if("textarea"==d)a=B("","","textarea");else{if(v<9)return B("","",'<input type="'+(d||"")+'" name="'+(c||"")+'">');a=B("","","input")}return c=c===b?a.name:c,d=d===b?a.type:d,a.name==c&&a.type==d||(v&&"textarea"!=d||a.type!=d&&("textarea"==a.type||"textarea"==d)?(F(a,"AFTEREND","<"+("textarea"==d?"textarea":'input type="'+d+'"')+' name="'+c+'" class="'+a.className+'" style="'+a.style.cssText+'" '+(a.disabled?"disabled":"")+(a.readOnly?" readOnly":"")+">"),c=a,(a=a.nextSibling).value=c.value,"radio"==d&&(a.checked=c.checked),G(c)):(a.type=d,a.name=c)),a},e.setStyle=function(a,b,c){var d=A[b];d&&d.set?d.set(a,c):a.style[d||b]=c}),I=(e.setStyles=function(a,b){for(var c in b||{})H(a,c,b[c]);return a},e.setText=w?function(a,b){a.textContent=b}:function(a,b){a.innerText=b},f.parse=function(a){return new Function("return ("+a+")")()},f.stringify=function(){function a(a){return/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/["\\\x00-\x1f]/g,function(a){var b=f[a];return b||(b=a.charCodeAt(),"\\u00"+p(b/16)+(b%16).toString(16))})),'"'+a+'"'}function c(a){for(var c,c,d=0,e=[],f=a.length,d=0,e=[],f=a.length;d<f;d++)(c=I(a[d]))!==b&&e.push(c);return"["+e.join(",")+"]"}function d(a){return a<10?"0"+a:a}function e(a){return'"'+a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+"T"+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())+'"'}var f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(d){switch(typeof d){case"undefined":case"function":case"unknown":return b;case"number":if(!isFinite(d))return"null";case"boolean":return d.toString();case"string":return a(d);default:if(null===d)return"null";if(d instanceof Array)return c(d);if(d instanceof Date)return e(d);var f,g=[];for(var h in d)(f=I(d[h]))!==b&&g.push(a(h)+":"+f);return"{"+g.join(",")+"}"}}}()),J=(g.decodeHTML=function(){var a={quot:'"',lt:"<",gt:">",amp:"&"};return function(b){return b.replace(/&(quot|lt|gt|amp|#([\d]+));/g,function(b,c,d){return a[c]||String.fromCharCode(+d)})}}(),g.format=function(a,b){a=String(a);var c=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;return c.length?(c=1==c.length&&null!==b&&/\[object Array\]|\[object Object\]/.test(d.call(b))?b:c,a.replace(/#\{(.+?)\}/g,function(a,b){var e=c[b];return"[object Function]"==d.call(e)&&(e=e(b)),void 0===e?"":e})):a},g.subByte=function(a,b,c){return a=String(a),c=c||"",b<0||g.getByteLength(a)<=b?a+c:(a=a.substr(0,b).replace(/([^\x00-\xff])/g,"$1 ").substr(0,b).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"))+c}.encodeHTML=g.encodeHTML=function(a){return a.replace(/[&<>"']/g,function(a){return"&#"+a.charCodeAt(0)+";"})},g.getByteLength=function(a,b){return z[b||""].byteLength(a)},g.sliceByte=function(a,b,c){for(var d=0,e=z[c||""].codeLength;d<a.length;d++)if((b-=e(a.charCodeAt(d)))<0)return a.slice(0,d);return a},g.toCamelCase=function(a){return a.indexOf("-")<0?a:a.replace(/\-./g,function(a){return a.charAt(1).toUpperCase()})},g.toHalfWidth=function(a){return a.replace(/[\u3000\uFF01-\uFF5E]/g,function(a){return String.fromCharCode(q(a.charCodeAt(0)-65248,32))})},g.trim=function(a){return a&&a.replace(/^\s+|\s+$/g,"")},g.parseDate=function(a){if(a instanceof Date)return a;var a=a?new k("number"==typeof a?a:String(a).replace(/-/g,"/")):new k;return"Invalid Date"==a.toString()?new k:a},g.addDate=function(a,b){},g.formatDate=function(a,b){var c=a.getFullYear(),d=a.getMonth()+1,e=a.getDate(),f=a.getHours(),g=a.getMinutes(),h=a.getSeconds();return b.replace(/(y+|M+|d+|H+|h+|m+|s+)/g,function(a){var b=a.length;switch(a.charAt()){case"y":return b>2?c:c.toString().slice(2);case"M":a=d;break;case"d":a=e;break;case"H":a=f;break;case"h":a=f%12;break;case"m":a=g;break;case"s":a=h}return b>1&&a<10?"0"+a:a})},h.attachEvent=v?function(a,b,c){a.attachEvent("on"+b,c)}:function(a,b,c){a.addEventListener(b,c,!1)}),K=(h.blank=function(){},h.callSuper=function(a,c){function d(a,b){for(;a;a=a.constructor.superClass)if(a[c]==b){for(;a=a.constructor.superClass;)if(a[c]!=b)return a[c];return null}}var e=a.constructor.prototype,f=K.caller,g=d(e,f);if(g===b&&(g=d(e,f.caller)),g)return g.apply(a,f.arguments)}),L=(h.cancel=function(){return!1},h.detachEvent=v?function(a,b,c){a.detachEvent("on"+b,c)}:function(a,b,c){a.removeEventListener(b,c,!1)},h.extend=function(a,b){for(var c in b)a[c]=b[c];return a}),M=(h.getView=function(){var a=j.body,b=D(a),c=u?b:a,d=b.scrollTop+a.scrollTop,e=b.scrollLeft+a.scrollLeft,f=c.clientWidth,g=c.clientHeight;return{top:d,right:e+f,bottom:d+g,left:e,width:f,height:g,pageWidth:q(b.scrollWidth,a.scrollWidth,f),pageHeight:q(b.scrollHeight,a.scrollHeight,g)}},h.inherits=function(a,b){var c=a.prototype,d=new l;return d.prototype=b.prototype,L(a.prototype=new d,c),a.prototype.constructor=a,a.superClass=b.prototype,a.prototype},h.setDefault=function(a,b,c){a.hasOwnProperty(b)||(a[b]=c)},h.timer=function(a,b,c){function d(){return(b<0?setInterval:setTimeout)(function(){a.apply(c,f),b<0||(a=c=f=null)},o(b))}var e,f=Array.prototype.slice.call(arguments,3),g=d();return function(h){(b<0?clearInterval:clearTimeout)(g),h?(e&&(g=d()),e=!e):a=c=f=null}}),N=h.toNumber=function(a){return r(a)||0};e.ready=function(){function a(){if(!e){e=!0;for(var a,b=0;a=f[b++];)a()}}var c,d,e=!1,f=[];return j.addEventListener&&!x?j.addEventListener("DOMContentLoaded",a,!1):v&&i==top?c=function(){try{j.documentElement.doScroll("left"),a()}catch(a){M(c,0)}}:y&&(c=function(){var e,f=0,g=j.readyState;if("loaded"!=g&&"complete"!=g)M(c,0);else{if(d===b&&(d=0,(e=j.getElementsByTagName("style"))&&(d+=e.length),e=j.getElementsByTagName("link")))for(;g=e[f++];)"stylesheet"==C(g,"rel")&&d++;j.styleSheets.length!=d?M(c,0):a()}}),c&&c(),J(i,"load",a),function(a){e?a():f.push(a)}}();try{j.execCommand("BackgroundImageCache",!1,!0)}catch(a){}}(),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=ecui,J=I.array,K=I.dom,L=I.ext,M=I.string,N=I.util,O=I.ui,P=window,Q=document,R=Date,S=Math,T=RegExp,U=S.abs,V=S.max,W=S.min,X=(isNaN,navigator.userAgent),Y="CSS1Compat"==Q.compatMode,Z=/msie (\d+\.\d)/i.test(X)?Q.documentMode||T.$1-0:a,$=/firefox\/(\d+\.\d)/i.test(X)?T.$1-0:a,_=J.indexOf,aa=J.remove,ba=K.addClass,ca=K.contain,da=K.create,ea=K.getAttribute,fa=K.getParent,ga=K.getPosition,ha=K.getStyle,ia=K.insertHTML,ja=K.ready,ka=K.remove,la=K.removeClass,ma=K.setStyle,na=M.toCamelCase,oa=N.attachEvent,pa=N.blank,qa=N.detachEvent,ra=N.extend,sa=N.getView,ta=N.inherits,ua=N.timer,va=N.toNumber,wa=I.NORMAL=0,xa=I.LOADING=1,ya=I.REPAINT=2,za=I.findControl=function(a){for(;a;a=fa(a))if(a.getControl)return a.getControl();return null},Aa=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"];!function(){function J(b,c,d,e){for(d=d||new Wa(c),d.cancelBubble=!1;b!=e;b=b.getParent())if(d.returnValue=a,G(b,c,d),d.cancelBubble)return}function K(a,b){if(a!=b){for(var c=0,d=[],e=[];a;a=a.getParent())d.push(a);for(;b;b=b.getParent())e.push(b);for(d.reverse(),e.reverse();d[c]==e[c];c++);a=d[c-1]}return a||null}function M(){return this._cControl}function N(a,b,c,d){var e=a.getOuter().style,f=a.getX(),g=a.getY();e.left=f+"px",e.top=g+"px",e.position="absolute",c.target=a,c.actived=Ta,Ga(c),Ta=null,G(a,d+"start",b),Z&&Q.body.setCapture()}function S(){if(!Sa){Ra=xa;for(a in L)$a[a]=L[a];for(a in hb)oa(Q,a,hb[a]);Sa={};var a=u(Q.body,"data-ecui");return Ya=a.name||Ya,Ia=a.globalId,Ja=_(["class","all"],a.structural)+1,ia(Q.body,"BEFOREEND",'<div style="position:absolute;overflow:scroll;top:-90px;left:-90px;width:80px;height:80px;border:1px solid"><div style="position:absolute;top:0px;height:90px"></div></div>'),a=Q.body.lastChild,Ka=a.offsetWidth>80,La=a.lastChild.offsetTop,Ma=a.offsetWidth-a.clientWidth-2,ka(a),oa(P,"resize",mb),oa(P,"unload",function(){for(var b=0;a=bb[b++];)a.$dispose();Q=_a=null}),oa(P,"scroll",Ea),lb(Q.body),ba(Q.body,"ecui-loaded"),Ra=wa,!0}}function X(){return Qa.time>(new R).getTime()-200}function Ba(a){var b=a.target,c=ga(b),d=ha(b);return a.pageX-c.left-va(d.borderLeftWidth)>=b.clientWidth!=a.pageY-c.top-va(d.borderTopWidth)>=b.clientHeight}function Ca(a,b){J(Ta=a,"activate",b),J(a,"mousedown",b),Fa(a,b)}function Da(a,b){if(a.oncreate&&a.oncreate(b),bb.push(a),b.id&&(Sa[b.id]=a,Ia&&(P[b.id]=a)),b.ext)for(var c in b.ext)$a[c]&&($a[c](a,b.ext[c],b),(c=a["$init"+c.charAt(0).toUpperCase()+na(c.slice(1))])&&c.call(a,b))}function Ea(a){a=H(a);for(var b,c=0;b=cb[c++];)G(b,"pagescroll",a);B(!0)}function Fa(a,b){for(;a;a=a.getParent())if(!a.isUserSelect())return void b.preventDefault()}function Ga(a){var b={};Ha(hb,!0),ra(b,hb),ra(b,a),b.x=Oa,b.y=Pa,Ha(b),gb.push(hb),hb=b}function Ha(a,b){for(var c,d=0,e=b?qa:oa;d<5;)a[c=Aa[d++]]&&e(Q,c,a[c])}var Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa=O.Event=function(a,b){this.type=a,b?(this.pageX=b.pageX,this.pageY=b.pageY,this.which=b.which,this.target=b.target,this._oNative=b):(this.pageX=Oa,this.pageY=Pa,this.which=ab,this.target=Q)},Xa=Wa.prototype,Ya="ecui",Za=0,$a={},_a=[],ab=0,bb=[],cb=[],db=0,eb={},fb={},gb=[],hb={click:function(a){a=H(a);var b=za(a.target);b&&b.isDisabled()&&a.preventDefault()},mousedown:function(b){if(Ta)return J(Ta,"deactivate"),void(Ta=null);b=H(b);var c=b.getControl(),d=Z<8&&Ba(b),e=c;if(Qa&&X()||(Qa={time:(new R).getTime()}),c){if(d)return;for(;e;e=e.getParent())if(e.isFocusable()){e!=c&&e.contain(Va)||F(e);break}d||Ca(c,b)}else(c=za(e=b.target))&&(Fa(c,b),"INPUT"!=e.tagName&&"SELECT"!=e.tagName&&"TEXTAREA"!=e.tagName&&"BUTTON"!=e.tagName||ua(function(){e.blur()})),F(),Ta=a},mouseover:function(a){if("drag"!=hb.type&&"zoom"!=hb.type){a=H(a);var b=a.getControl(),c=K(b,Ua);J(Ua,"mouseout",a,c),J(b,"mouseover",a,c),Ua=b}},mousemove:function(a){a=H(a),J(a.getControl(),"mousemove",a)},mouseup:function(a){a=H(a);var b,c=a.getControl();null!==Ta&&(J(c,"mouseup",a),Ta&&(b=K(c,Ta),J(b,"click",a),Qa&&(X()&&Qa.target==c?(J(b,"dblclick",a),Qa=null):Qa.target=c),J(Ta,"deactivate",a)),Ta=null)}},ib={type:"drag",mousemove:function(a){a=H(a);var b=hb.target,c=b.getX()+Oa-hb.x,d=b.getY()+Pa-hb.y,e=W(V(c,hb.left),hb.right),f=W(V(d,hb.top),hb.bottom);G(b,"dragmove",a,[e,f])&&b.setPosition(e,f),hb.x=Oa+b.getX()-c,hb.y=Pa+b.getY()-d},mouseup:function(a){a=H(a);var b=hb.target;G(b,"dragend",a),Ta=hb.actived,E(),hb.mouseover(a),hb.mouseup(a)}},jb={type:"intercept",mousedown:function(a){a=H(a);var b=hb.target,c=hb,d=a.getControl();Qa=null,Ba(a)||(d&&!d.isFocusable()?Ca(d,a):G(b,"intercept",a)?E():a.cancelBubble||(c==hb?d&&Ca(d,a):hb.mousedown(a)))}},kb={type:"zoom",mousemove:function(a){a=H(a);var b=hb.target,c=hb.width=Oa-hb.x+hb.width,d=hb.height=Pa-hb.y+hb.height,e=hb.minWidth,f=hb.maxWidth,g=hb.minHeight,h=hb.maxHeight;hb.x=Oa,hb.y=Pa,c=e>c?e:f<c?f:c,d=g>d?g:h<d?h:d,b.setPosition(hb.left+W(c,0),hb.top+W(d,0)),G(b,"zoom",a)&&b.setSize(U(c),U(d))},mouseup:function(a){a=H(a);var b=hb.target;G(b,"zoomend",a),Ta=hb.actived,E(),mb(),hb.mouseover(a),hb.mouseup(a)}},lb=I.init=function(a){if(!S()&&a){var b,c=0,d=[],f=a.all||a.getElementsByTagName("*"),g=[a],h={};for(Za++||qa(P,"resize",mb);b=f[c++];)ea(b,Ya)&&g.push(b);for(c=0;a=g[c];c++)f=u(a),(b=f.type)&&(f.main=a,d.push(e(O[na(b.charAt(0).toUpperCase()+b.slice(1))],f)),f.id&&(h[f.id]=d[d.length-1]));for(c=0;b=d[c++];)b.cache();for(c=0;b=d[c++];)b.init();return--Za||oa(P,"resize",mb),h}},mb=I.repaint=function(){var b,c=0,d=[],e=[];if(Z){if(b=(Y?Q.documentElement:Q.body).clientWidth,Na==b)return void Ea(new Wa("scroll"));Na=b}if(Ra=ya,b=hb.type,B(!1),"zoom"!=b){for("drag"==b&&hb.mouseup(),b=null;b!==a;b=d[c++])for(var f=0,g=D({parent:b});b=g[f++];)b.isShow()&&b.isResizable()&&d.push(b);for(c=0;b=d[c++];)b.repaint=pa,G(b,"resize"),delete b.repaint,Z<8&&(b=ha(f=b.getMain()),"auto"==b.width&&"block"==b.display&&(f.style.width="100%"));if(Z<8){for(c=0;b=d[c];)e[c++]=b.getMain().offsetWidth;for(;b=d[c--];)b.getMain().style.width=e[c]-(Ka?2*b.$getBasicWidth():0)+"px"}for(c=0;b=d[c++];)b.cache(!0,!0);for(c=0;b=d[c++];)b.$setSize(b.getWidth(),b.getHeight())}Z<8?ua(B,0,null,!0):B(!0),Ra=wa};b=I.$bind=function(a,b){a._cControl=b,a.getControl=M},d=I.$clearState=function(a){var b=a.getParent();A(a),a.contain(Ta)&&J(Ta,"deactivate",null,Ta=b),a.contain(Ua)&&J(Ua,"mouseout",null,Ua=b)},c=I.$connect=function(a,b,c){if(c){var d=Sa[c];d?b.call(a,d):(eb[c]=eb[c]||[]).push({func:b,caller:a})}},e=I.$create=function(a,b){a=a.client||a,b=b||{};var c,d=0,e=b.parent,f=b.main,g=b.primary||"";if(b.uid="ecui-"+ ++db,f){if(Ja?c=f.className:f.className=c=f.className+" "+g+a.agent.TYPES,g||(/\s*([^\s]+)/.test(c),b.primary=T.$1),f.getControl)return f.getControl()}else f=b.main=da(g+a.agent.TYPES),g||(b.primary=a.agent.types[0]);if(a=new a(f,b),e?e instanceof O.Control?a.setParent(e):a.appendTo(e):a.$setParent(za(fa(a.getOuter()))),Da(a,b),cb.push(a),f=eb[b.id])for(eb[b.id]=null;g=f[d++];)g.func.call(g.caller,a);return a},f=I.$fastCreate=function(a,b,c,d){return a=a.client||a,d=d||{},d.uid="ecui-"+ ++db,d.primary||(/\s*([^\s]+)/.test(b.className),d.primary=T.$1),a=new a(b,d),a.$setParent(c),Da(a,d),a},I.addEventListener=function(a,b,c){b=a.getUID()+b,(fb[b]=fb[b]||[]).push(c)},g=I.calcHeightRevise=function(a){return Ka?va(a.borderTopWidth)+va(a.borderBottomWidth)+va(a.paddingTop)+va(a.paddingBottom):0},h=I.calcLeftRevise=function(a){var b=ha(a.offsetParent);return!$||"visible"!=b.overflow&&"absolute"==ha(a,"position")?va(b.borderLeftWidth)*La:0},i=I.calcTopRevise=function(a){var b=ha(a.offsetParent);return!$||"visible"!=b.overflow&&"absolute"==ha(a,"position")?va(b.borderTopWidth)*La:0},j=I.calcWidthRevise=function(a){return Ka?va(a.borderLeftWidth)+va(a.borderRightWidth)+va(a.paddingLeft)+va(a.paddingRight):0},k=I.create=function(a,b){return a=e("string"==typeof a?O[a]:a,b),a.cache(),a.init(),a},l=I.dispose=function(a){var b,c=bb.length,e=a instanceof O.Control,f={},g=[];e?d(a):(b=za(fa(a)),Va&&ca(a,Va.getOuter())&&F(b),Ta&&ca(a,Ta.getOuter())&&J(Ta,"deactivate",null,Ta=b),Ua&&ca(a,Ua.getOuter())&&J(Ua,"mouseout",null,Ua=b));for(b in Sa)f[Sa[b].getUID()]=b;for(;c--;)b=bb[c],(e?a.contain(b):!!b.getOuter()&&ca(a,b.getOuter()))&&(g.push(b),aa(cb,b),(b=f[b.getUID()])&&delete Sa[b],bb.splice(c,1));for(;b=g[++c];)b.$dispose()},I.$dispose=function(a,b){var c,e,f=a instanceof O.Control,g={},h=[],i=[];f?d(a):(c=za(fa(a)),Va&&ca(a,Va.getOuter())&&F(c),Ta&&ca(a,Ta.getOuter())&&J(Ta,"deactivate",null,Ta=c),Ua&&ca(a,Ua.getOuter())&&J(Ua,"mouseout",null,Ua=c));for(c in Sa)g[Sa[c].getUID()]=c,i.push(Sa[c]);for(b&&(i=[a]),e=0;c=i[e];e++)(f?a.contain(c):!!c.getOuter()&&ca(a,c.getOuter()))&&(h.push(c),aa(cb,c),aa(bb,c),(c=g[c.getUID()])&&delete Sa[c]);for(e=0;c=h[e];e++)c.$dispose()},m=I.drag=function(a,b,c){if("mousedown"==b.type){var d=a.getOuter().offsetParent,e=ha(d);ra(ib,"BODY"==d.tagName||"HTML"==d.tagName?sa():{top:0,right:d.offsetWidth-va(e.borderLeftWidth)-va(e.borderRightWidth),bottom:d.offsetHeight-va(e.borderTopWidth)-va(e.borderBottomWidth),left:0}),ra(ib,c),ib.right=V(ib.right-a.getWidth(),ib.left),ib.bottom=V(ib.bottom-a.getHeight(),ib.top),N(a,b,ib,"drag")}},I.get=function(a){return S(),Sa[a]||null},n=I.getActived=function(){return Ta||null},o=I.getAttributeName=function(){return Ya},p=I.getFocused=function(){return Va||null},q=I.getHovered=function(){return Ua},r=I.getKey=function(){return ab},s=I.getMouseX=function(a){return a?(a=a.getBody(),Oa-ga(a).left-va(ha(a,"borderLeftWidth"))):Oa},t=I.getMouseY=function(a){return a?(a=a.getBody(),Pa-ga(a).top-va(ha(a,"borderTopWidth"))):Pa},I.getNamedControls=function(){return ra({},Sa)},u=I.getOptions=function(b,c){c=c||Ya;var d,e=ea(b,c);if(e){if(b.removeAttribute(c),I.onparseoptions&&(d=I.onparseoptions(e)))return d;for(e=e.replace(/\:(\s*)\;/g,":false;"),d={};/^(\s*;)?\s*(ext\-)?([\w\-]+)\s*(:\s*([^;\s]+(\s+[^;\s]+)*)\s*)?($|;)/.test(e);)e=T["$'"],b=T.$5,c=T.$2?d.ext=d.ext||{}:d,c[na(T.$3)]=function(){var b=RegExp.$5;return/^(true|false)$/.test(b)?!("true"!=b):/^(-)?(|\.|\d)+$/.test(b)?b.length>10?b:Number(b):"undefined"==b?a:"null"==b?null:b}();return d}return{}},v=I.getScrollNarrow=function(){return Ma},w=I.getStatus=function(){return Ra},x=I.inherits=function(a,b,c,d){var e=function(a){return k(e.client,a)},f=e.client=function(b,c){e.preprocess&&(b=e.preprocess.call(this,b,c)||b),a&&a.client.call(this,b,c),d&&d.call(this,b,c)};return e.preprocess=c,a?(ta(e,a),b&&"*"==b.charAt(0)?(e.types=a.types.slice())[0]=b.slice(1):e.types=(b?[b]:[]).concat(a.types)):e.types=[],e.TYPES=" "+e.types.join(" "),ta(f,e),f.agent=e,e},y=I.intercept=function(a){jb.target=a,Ga(jb)},z=I.isContentBox=function(){return Ka},A=I.loseFocus=function(a){a.contain(Va)&&F(a.getParent())},B=I.mask=function(b,c){var d=0,e=Q.body,f=sa(),g=V(f.top-2*f.height,0),h=V(f.left-2*f.width,0),i=";top:"+g+"px;left:"+h+"px;width:"+W(5*f.width,f.pageWidth-h)+"px;height:"+W(5*f.height,f.pageHeight-g)+"px;display:";if("boolean"==typeof b)for(i+=b?"block":"none";f=_a[d++];)f.style.cssText+=i;else if(b===a)ka(_a.pop()),_a.length||la(e,"ecui-mask");else{if(_a.length||ba(e,"ecui-mask"),_a.push(f=e.appendChild(da("","position:absolute;background-color:#000;z-index:"+(c||32767)))),ma(f,"opacity",b),Z<8){f.innerHTML='<iframe style="width:100%;filter:alpha(opacity=0);-moz-opacity:0; height:100%; position:absolute; z-index:'+(c-2)+'"></iframe>';try{var j=baidu.dom.query("iframe",f)[0];j.contentWindow.document.onclick=function(){f.removeChild(j),baidu.event.fire(f,"mousedown"),baidu.event.fire(e,"mousedown")}}catch(a){}}f.style.cssText+=i+"block"}},C=I.needInitClass=function(){return!Ja},D=I.query=function(b){b=b||{};for(var c,d=0,e=[],f=b.parent,g=b.custom;c=cb[d++];)b.type&&!(c instanceof b.type)||f!==a&&c.getParent()!==f||g&&!g.call(this,c)||e.push(c);return e},I.removeEventListener=function(a,b,c){(b=fb[a.getUID()+b])&&aa(b,c)},E=I.restore=function(){Z&&("drag"!=hb.type&&"zoom"!=hb.type||Q.body.releaseCapture()),Ha(hb,!0),Ha(hb=gb.pop())},F=I.setFocused=function(a){a&&a.isDisabled()&&(a=null);var b=K(Va,a);J(Va,"blur",null,b),J(Va=a,"focus",null,b)},G=I.triggerEvent=function(a,b,c,d){if(d&&c?d.splice(0,0,c):c?d=[c]:(c={returnValue:c,preventDefault:Xa.preventDefault},d=d||[]),e=fb[a.getUID()+b])for(var e,f,g=0;f=e[g++];)f.apply(a,d);return(a["on"+b]&&!1===a["on"+b].apply(a,d)||!1===c.returnValue||a["$"+b]&&!1===a["$"+b].apply(a,d))&&c.preventDefault(),!1!==c.returnValue},H=I.wrapEvent=function(a){if(a instanceof Wa)return a;var b=Q.body,c=fa(b);return Z&&(a=P.event,a.pageX=c.scrollLeft+b.scrollLeft-c.clientLeft+a.clientX-b.clientLeft,a.pageY=c.scrollTop+b.scrollTop-c.clientTop+a.clientY-b.clientTop,a.target=a.srcElement,a.which=a.keyCode),"mousemove"==a.type&&(Qa=null),Oa=a.pageX,Pa=a.pageY,new Wa(a.type,a)},I.zoom=function(a,b,c){"mousedown"==b.type&&(c&&ra(kb,c),kb.top=a.getY(),kb.left=a.getX(),kb.width=a.getWidth(),kb.height=a.getHeight(),N(a,b,kb,"zoom"))},hb.keydown=hb.keypress=hb.keyup=function(a){a=H(a);var b=a.type,c=a.which;"keydown"==b&&(ab=c),J(Va,b,a),"keyup"==b&&ab==c&&(ab=0)},Z&&(hb.dblclick=function(a){hb.mousedown(a),hb.mouseup(a)},hb.selectstart=function(a){a=H(a),Fa(za(a.target),a)}),hb[$?"DOMMouseScroll":"mousewheel"]=function(b){b=H(b),b.detail=b._oNative.detail===a?b._oNative.wheelDelta/-40:b._oNative.detail,"drag"==hb.type?b.preventDefault():(J(Ua,"mousewheel",b),b.cancelBubble||J(Va,"mousewheel",b))},Xa.getControl=function(){var a=za(this.target);if(a&&!a.isDisabled())for(;a;a=a.getParent())if(a.isCapturable())return a;return null},Xa.getNative=function(){return this._oNative},Xa.preventDefault=function(){this.returnValue=!1,this._oNative&&(Z?this._oNative.returnValue=!1:this._oNative.preventDefault())},Xa.stopPropagation=function(){this.cancelBubble=!0,this._oNative&&(Z?this._oNative.cancelBubble=!1:this._oNative.stopPropagation())},Xa.exit=function(){this.preventDefault(),this.stopPropagation()},ja(lb)}()}(),function(){function a(a,b,c){var d=a._cParent,e=a.getOuter(),f=a._bCreated&&a.isShow();if(b!=d){if(d&&!L(d,"remove",null,[a]))return;b&&(L(b,"append",null,[a])||(b=c=null))}c!=o(e)&&(c?c.appendChild(e):r(e),a.$setParent(b)),f!=(a._bCreated&&a.isShow())&&L(a,f?"hide":"show",!1)}var b,c,d=ecui,e=d.array,f=d.dom,g=d.ui,h=d.util,i=document,j=RegExp,k=navigator.userAgent,l=/msie (\d+\.\d)/i.test(k)?i.documentMode||j.$1-0:b,m=e.remove,n=f.addClass,o=f.getParent,p=f.getStyle,q=f.removeClass,r=f.remove,s=h.blank,t=h.timer,u=h.toNumber,v=d.REPAINT,w=d.$bind,x=d.$clearState,y=d.calcLeftRevise,z=d.calcTopRevise,A=d.dispose,B=d.findControl,C=d.getActived,D=d.getFocused,E=d.getHovered,F=d.getStatus,G=d.inherits,H=d.isContentBox,I=d.loseFocus,J=d.query,K=d.setFocused,L=d.triggerEvent,M=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"],N=g.Control=G(null,null,null,function(a,b){w(a,this),this._bDisabled=!!b.disabled,this._sUID=b.uid,this._sPrimary=b.primary||"",this._sClass=b.current||this._sPrimary,this._eMain=this._eBody=a,this._cParent=null,this._bCapturable=!1!==b.capturable,this._bUserSelect=!1!==b.userSelect,this._bFocusable=!1!==b.focusable,!1!==b.resizable?(this._bResizable=!0,a=a.style,this._sWidth=a.width,this._sHeight=a.height):this._bResizable=!1,this._aStatus=[""," "]}),O=N.prototype,P={custom:function(a){return this!=a&&this.contain(a)&&a.isShow()}};O.$activate=function(){this.alterClass("+active")},O.$blur=function(){this.alterClass("-focus")},O.$cache=function(a,b){if(l<8)c=a.borderWidth,c.indexOf(" ")>0?(c=c.split(" "),this.$$borderTopWidth=u(c[0]),this.$$borderRightWidth=u(c[1]),this.$$borderBottomWidth=c[2]?u(c[2]):this.$$borderTopWidth,this.$$borderLeftWidth=c[3]?u(c[3]):this.$$borderRightWidth=u(c[1])):this.$$borderTopWidth=this.$$borderLeftWidth=this.$$borderRightWidth=this.$$borderBottomWidth=u(c),c=a.padding,c.indexOf(" ")>0?(c=c.split(" "),this.$$paddingTop=u(c[0]),this.$$paddingRight=u(c[1]),this.$$paddingBottom=c[2]?u(c[2]):this.$$paddingTop,this.$$paddingLeft=c[3]?u(c[3]):this.$$paddingRight):this.$$paddingTop=this.$$paddingLeft=this.$$paddingRight=this.$$paddingBottom=u(c);else for(var c,d=0,e=["borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","paddingTop","paddingLeft","paddingRight","paddingBottom"];c=e[d++];)this["$$"+c]=u(a[c]);this.$$position=a.position,!1!==b&&(c=H(),this.$$width=this._eMain.offsetWidth||u(a.width)+(c?this.$getBasicWidth():0),this.$$height=this._eMain.offsetHeight||u(a.height)+(c?this.$getBasicHeight():0))},O.$deactivate=function(){this.alterClass("-active")},O.$dispose=function(){try{L(this,"dispose",!1)}catch(a){}this._eMain.getControl=b,this._eMain=this._eBody=null,this.$ready=s},O.$focus=function(){this.alterClass("+focus")},O.$getBasicHeight=function(){return this.$$borderTopWidth+this.$$borderBottomWidth+this.$$paddingTop+this.$$paddingBottom},O.$getBasicWidth=function(){return this.$$borderLeftWidth+this.$$borderRightWidth+this.$$paddingLeft+this.$$paddingRight},O.$getSection=function(a){return this["_u"+a]},O.$hide=function(){if(this._sDisplay===b){if(this._bCreated)for(var a,c=0,d=J.call(this,P);a=d[c++];)L(a,"hide",!1);a=this.getOuter().style,this._sDisplay=a.display,a.display="none",x(this)}},O.$locate=function(){"static"==this.$$position&&(this._eMain.style.position=this.$$position="relative")},O.$mouseout=function(){this.alterClass("-hover")},O.$mouseover=function(){this.alterClass("+hover")},O.$resize=function(){var a=this._eMain,b=a.style;if(b.width=this._sWidth,l<8&&F()!=v){var c=p(a);"auto"==c.width&&"block"==c.display&&(b.width="100%",b.width=a.offsetWidth-(H()?2*this.$getBasicWidth():0)+"px")}b.height=this._sHeight},O.$setBody=function(a){this._eBody=a},O.$setParent=function(a){this._cParent=a},O.$setSize=function(a,b){var c=this._eMain.style,d=this._eMain.tagName,e=H()&&"BUTTON"!=d&&"INPUT"!=d;a&&(d=a-(e?this.$getBasicWidth():0))>0&&(c.width=d+"px",this.$$width=a),b&&(d=b-(e?this.$getBasicHeight():0))>0&&(c.height=d+"px",this.$$height=b)},O.$show=function(){if(this.getOuter().style.display=this._sDisplay||"",this._sDisplay=b,this._bCreated)for(var a,c=0,d=J.call(this,P);a=d[c++];)L(a,"show",!1)},O.alterClass=function(a){var b="+"==a.charAt(0);b?a="-"+a.slice(1)+" ":a+=" ",(b?n:q)(this._eMain,this.getTypes().concat([this._sClass,""]).join(a)),b?this._aStatus.push(a):m(this._aStatus,a)},O.appendTo=function(b){a(this,b&&B(b),b)},O.blur=function(){I(this)},O.cache=function(a,b){!b&&this._bCached||(this._bCached=!0,this.$cache(p(this._eMain),a))},O.clearCache=function(){this._bCached=!1},O.contain=function(a){for(;a;a=a._cParent)if(a==this)return!0;return!1},O.disable=function(){return!this._bDisabled&&(this.alterClass("+disabled"),this._bDisabled=!0,x(this),!0)},O.dispose=function(){A(this)},O.enable=function(){return!!this._bDisabled&&(this.alterClass("-disabled"),this._bDisabled=!1,!0)},O.focus=function(){this.isFocused()||K(this)},O.getBody=function(){return this._eBody},O.getBodyHeight=function(){return this.getHeight()-this.getMinimumHeight()},O.getBodyWidth=function(){return this.getWidth()-this.getMinimumWidth()},O.getClass=function(){return this._sClass},O.getContent=function(){return this._eBody.innerHTML},O.getHeight=function(){return this.cache(),this.$$height},O.getMain=function(){return this._eMain},O.getMinimumHeight=function(){return this.cache(),this.$getBasicHeight()+(this.$$bodyHeightRevise||0)},O.getMinimumWidth=function(){return this.cache(),this.$getBasicWidth()+(this.$$bodyWidthRevise||0)},O.getOuter=function(){return this._eMain},O.getParent=function(){return this._cParent||null},O.getPrimary=function(){return this._sPrimary},O.getType=function(){return this.constructor.agent.types[0]},O.getTypes=function(){return this.constructor.agent.types.slice()},O.getUID=function(){return this._sUID},O.getWidth=function(){return this.cache(),this.$$width},O.getX=function(){var a=this.getOuter();return this.isShow()?a.offsetLeft-y(a):0},O.getY=function(){var a=this.getOuter();return this.isShow()?a.offsetTop-z(a):0},O.hide=function(){this.isShow()&&L(this,"hide")},O.init=function(){this._bCreated||(this._bDisabled&&this.alterClass("+disabled"),this.$setSize(this.getWidth(),this.getHeight()),null===c?this.$ready():(c||(c=[],t(function(){for(var a,b=0;a=c[b++];)a.$ready();c=null})),this.$ready!=s&&c.push(this)),this._bCreated=!0)},O.isActived=function(){return this.contain(C())},O.isCapturable=function(){return this._bCapturable},O.isDisabled=function(){return this._bDisabled||!!this._cParent&&this._cParent.isDisabled()},O.isFocusable=function(){return this._bFocusable},O.isFocused=function(){return this.contain(D())},O.isHovered=function(){return this.contain(E())},O.isResizable=function(){return this._bResizable},O.isShow=function(){return!!this.getOuter().offsetWidth},O.isUserSelect=function(){return this._bUserSelect},O.render=function(){this.resize()},O.repaint=function(){this.cache(!0,!0),this.$setSize(this.getWidth(),this.getHeight())},O.resize=function(){this._bResizable&&(this.$resize(),this.repaint())},O.setBodySize=function(a,b){this.setSize(a&&a+this.getMinimumWidth(),b&&b+this.getMinimumHeight())},O.setClass=function(a){var b=0,c=this._sClass,d=this.getTypes(),e=[];if((a=a||this._sPrimary)!=c){for(d.splice(0,0,this._sClass=a);d[b];)e[b]=this._aStatus.join(d[b++]);d[0]=c,this._eMain.className=e.join("")+this._eMain.className.split(/\s+/).join("  ").replace(new j("(^| )("+d.join("|")+")(-[^ ]+)?( |$)","g"),"")}},O.setContent=function(a){this._eBody.innerHTML=a},O.setParent=function(b){a(this,b,b&&b._eBody)},O.setPosition=function(a,b){var c=this.getOuter().style;c.left=a+"px",c.top=b+"px"},O.setSize=function(a,b){if(this._bResizable){this.cache();var c=this._eMain.style;a<this.getMinimumWidth()&&(a=0),b<this.getMinimumHeight()&&(b=0),this.$setSize(a,b),a&&(this._sWidth=c.width),b&&(this._sHeight=c.height)}},O.show=function(){return!this.isShow()&&(L(this,"show"),!0)},function(){for(var a,b=0;a=M[b++];)O["$"+a]=O["$"+a]||s;O.$intercept=O.$append=O.$remove=O.$zoomstart=O.$zoom=O.$zoomend=O.$dragstart=O.$dragmove=O.$dragend=O.$ready=O.$pagescroll=s}()}(),function(){function a(a){if(t(a._eInput,a),!a._bHidden)for(var b in B)q(a._eInput,b,B[b])}var b,c=ecui,d=c.dom,e=c.string,f=c.ui,g=c.util,h=document,i=RegExp,j=navigator.userAgent,k=/msie (\d+\.\d)/i.test(j)?h.documentMode||i.$1-0:b,l=d.create,m=d.insertBefore,n=d.setInput,o=d.setStyle,p=e.encodeHTML,q=g.attachEvent,r=g.blank,s=g.detachEvent,t=(g.timer,c.$bind),u=c.inherits,v=c.triggerEvent,w=c.wrapEvent,x=f.Control,y=x.prototype,z=f.InputControl=u(x,null,function(a,c){if("INPUT"==a.tagName||"TEXTAREA"==a.tagName){var d=a;m(a=l(d.className,d.style.cssText,"span"),d).appendChild(d),d.className=""}else(d=a.getElementsByTagName("INPUT")[0]||a.getElementsByTagName("TEXTAREA")[0])||(d=n(null,c.name,c.inputType),d.defaultValue=d.value=c.value===b?"":c.value.toString(),a.appendChild(d));return o(a,"display","inline-block"),d.style.border="0px",c.hidden&&(d.style.display="none"),c.checked&&(d.defaultChecked=d.checked=!0),a},function(b,c){this._bHidden=c.hidden,this._eInput=b.getElementsByTagName("INPUT")[0]||b.getElementsByTagName("TEXTAREA")[0],g.validator&&(this._aValidateRules=g.validator.collectRules(c)),a(this)}),A=z.prototype,B={};B.blur=B.focus=function(a){var b=a.type;a=w(a).target.getControl(),a["$"+b]=y["$"+b],a[b](),delete a["$"+b]},B.dragover=B.drop=function(a){w(a).exit()},k?B.propertychange=function(a){"value"==a.propertyName&&v(w(a).target.getControl(),"change")}:B.input=function(a){v(this.getControl(),"change")},A.$dispose=function(){this._eInput.getControl=b,this._eInput=null,y.$dispose.call(this)},A.$reset=function(){this.$ready()},A.$setParent=function(a){y.$setParent.call(this,a),(a=this._eInput.form)&&a.getControl&&a.getControl().addItem(this.getName(),this)},A.$setSize=function(a,b){y.$setSize.call(this,a,b),this._eInput.style.width=this.getBodyWidth()+"px",this._eInput.style.height=this.getBodyHeight()+"px"},A.$submit=r,A.disable=function(){if(y.disable.call(this)){var a=this.getBody();return this._bHidden?this._eInput.disabled=!0:(a.removeChild(this._eInput),"password"!=this._eInput.type&&(a.innerHTML=p(this._eInput.value))),!0}return!1},A.enable=function(){if(y.enable.call(this)){var a=this.getBody();return this._bHidden?this._eInput.disabled=!1:(a.innerHTML="",a.appendChild(this._eInput)),!0}return!1},A.getInput=function(){return this._eInput},A.getName=function(){return this._eInput.name},A.getSelectionEnd=k?function(){var a=h.selection.createRange().duplicate();return a.moveStart("character",-this._eInput.value.length),a.text.length}:function(){return this._eInput.selectionEnd},A.getSelectionStart=k?function(){var a=h.selection.createRange().duplicate(),b=this._eInput.value.length;return a.moveEnd("character",b),b-a.text.length}:function(){return this._eInput.selectionStart},A.getValue=function(){return this._eInput.value},A.setCaret=k?function(a){var b=this._eInput.createTextRange();b.collapse(),b.select(),b.moveStart("character",a),b.collapse(),b.select()}:function(a){this._eInput.setSelectionRange(a,a)},A.setName=function(b){var c=n(this._eInput,b||"");this._eInput!=c&&(a(this),this._eInput=c)},A.setValue=function(a){var b=this._eInput,c=B.propertychange;c&&s(b,"propertychange",c),b.value=a,c&&q(b,"propertychange",c)},A.validate=function(){return!0},A.setDefaultValue=function(){var a=this.getValue();this._eInput.defaultValue=a},function(){function a(a){A["$"+a]=function(){y["$"+a].call(this);var b=this._eInput;s(b,a,B[a]);try{b[a]()}catch(a){}q(b,a,B[a])}}a("blur"),a("focus")}()}(),function(){var a=ecui,b=a.dom,c=a.ui,d=a.util,e=b.setText,f=d.setDefault,g=a.inherits,h=c.Control,i=h.prototype,j=c.Button=g(h,"ui-button",function(a,b){f(b,"userSelect",!1),b.text&&e(a,b.text)}),k=j.prototype;k.$activate=function(a){i.$activate.call(this,a),a.stopPropagation()},k.$mouseout=function(a){i.$mouseout.call(this,a),this.isActived()&&this.alterClass("-active")},k.$mouseover=function(a){i.$mouseover.call(this,a),this.isActived()&&this.alterClass("+active")},k.setText=function(a){e(this.getBody(),a)},k.$setSize=function(){this.getParent()&&i.$setSize.apply(this,[].slice.call(arguments))}}(),function(){function a(b,c,d){var e=b._nValue,f=b.getMouseDirection();b._oStop(),-1==f&&c<0||1==f&&c>0?b.setValue(e+c):e=-1,b._oStop=b._nValue!=e?n(a,d||200,null,b,c,40):l}function b(a){var b,c=a.getParent();c&&(c.$scroll(),z[b=c.getUID()]||(n(function(){delete z[b],u(c,"scroll",!1)}),z[b]=!0))}var c=ecui,d=c.dom,e=c.ui,f=c.util,g=Math,h=g.floor,i=g.max,j=g.min,k=d.children,l=f.blank,m=f.setDefault,n=f.timer,o=c.$fastCreate,p=c.drag,q=c.getActived,r=c.getMouseX,s=c.getMouseY,t=c.inherits,u=c.triggerEvent,v=e.Control,w=v.prototype,x=e.Button,y=x.prototype,z=e.Scrollbar=t(v,"ui-scrollbar",function(a,b){m(b,"userSelect",!1),m(b,"focusable",!1);var c=this.getType();a.innerHTML='<div class="'+c+"-prev"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+c+"-next"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+this.Thumb.TYPES+'" style="position:absolute"></div>'},function(a,b){a=k(a),this._nValue=this._nTotal=0,this._nStep=1,this._uPrev=o(this.Button,a[0],this,{focusable:!1}),this._uNext=o(this.Button,a[1],this,{focusable:!1}),this._uThumb=o(this.Thumb,a[2],this,{focusable:!1}),this._oStop=l}),A=z.prototype,B=(A.Thumb=t(x,"ui-scrollbar-thumb")).prototype,C=(A.Button=t(x,"ui-scrollbar-button")).prototype;B.$activate=function(a){y.$activate.call(this,a),p(this,a,this._oRange)},B.$dragmove=function(a,c,d){y.$dragmove.call(this,a,c,d);var e=this.getParent(),f=e.$calculateValue(c,d);e.$setValue(f==e._nTotal?f:f-f%e._nStep),b(e)},B.setRange=function(a,b,c,d){this._oRange={top:a,right:b,bottom:c,left:d}},C.$activate=function(b){y.$activate.call(this,b);var c=this.getParent();a(c,c.getMouseDirection()*i(c._nStep,5))},C.$deactivate=function(a){y.$deactivate.call(this,a),this.getParent()._oStop()},C.$mouseout=function(a){y.$mouseout.call(this,a),q()==this&&this.getParent()._oStop(!0)},C.$mouseover=function(a){y.$mouseover.call(this,a),q()==this&&this.getParent()._oStop(!0)},A.$activate=function(b){w.$activate.call(this,b),a(this,this.getMouseDirection()*this.$getPageStep())},A.$cache=function(a,b){w.$cache.call(this,a,b),this._uPrev.cache(!0,!0),this._uNext.cache(!0,!0),this._uThumb.cache(!0,!0)},A.$deactivate=function(a){w.$deactivate.call(this,a),this._oStop()},A.$hide=function(){w.$hide.call(this),A.setValue.call(this,0)},A.$mouseout=function(a){w.$mouseout.call(this,a),q()==this&&this._oStop(!0)},A.$mouseover=function(a){w.$mouseover.call(this,a),q()==this&&this._oStop(!0)},A.$setPageStep=function(a){this._nPageStep=a},A.$setSize=function(a,b){w.$setSize.call(this,a,b),this.$locate()},A.$setValue=function(a){this._nValue=a},A.getStep=function(){return this._nStep},A.getTotal=function(){return this._nTotal},A.getValue=function(){return this._nValue},A.init=function(){w.init.call(this),this._uPrev.init(),this._uNext.init(),this._uThumb.init()},A.setStep=function(a){a>0&&(this._nStep=a)},A.setTotal=function(a){a>=0&&this._nTotal!=a&&(this._nTotal=a,this._nValue>a&&(this._nValue=a,b(this)),this.$flushThumb())},A.setValue=function(a){a=j(i(0,a),this._nTotal),this._nValue!=a&&(this._nValue=a,b(this),this.$flushThumb())},A.skip=function(a){this.setValue(this._nValue+a*this._nStep)};var D=e.VScrollbar=t(z,"ui-vscrollbar"),E=D.prototype;E.$calculateValue=function(a,b){var c=this._uThumb,d=c._oRange;return(b-d.top)/(d.bottom-this._uPrev.getHeight()-c.getHeight())*this._nTotal},E.$flushThumb=function(){var a=this._uThumb,b=this._nTotal,c=this.getHeight(),d=this._uPrev.getHeight(),e=this.getBodyHeight(),f=i(h(e*c/(c+b)),a.getMinimumHeight()+5);b&&(a.$setSize(0,f),a.setPosition(0,d+h(this._nValue/b*(e-f))),a.setRange(d,0,e+d,0))},E.$getPageStep=function(){var a=this.getHeight();return this._nPageStep||a-a%this._nStep},E.$setSize=function(a,b){A.$setSize.call(this,a,b);var c=this.getBodyWidth(),d=this.$$paddingTop,e=this._uNext;this._uPrev.$setSize(c,d),e.$setSize(c,this.$$paddingBottom),this._uThumb.$setSize(c),e.setPosition(0,this.getBodyHeight()+d),this.$flushThumb()},E.getMouseDirection=function(){return s(this)<this._uThumb.getY()?-1:s(this)>this._uThumb.getY()+this._uThumb.getHeight()?1:0};var F=e.HScrollbar=t(z,"ui-hscrollbar"),G=F.prototype;G.$calculateValue=function(a,b){var c=this._uThumb,d=c._oRange;return(a-d.left)/(d.right-this._uPrev.getWidth()-c.getWidth())*this._nTotal},G.$flushThumb=function(){var a=this._uThumb,b=this._nTotal,c=this.getWidth(),d=this._uPrev.getWidth(),e=this.getBodyWidth(),f=i(h(e*c/(c+b)),a.getMinimumWidth()+5);b&&(a.$setSize(f),a.setPosition(d+h(this._nValue/b*(e-f)),0),a.setRange(0,e+d,0,d))},G.$getPageStep=function(){var a=this.getWidth();return a-a%this._nStep},G.$setSize=function(a,b){A.$setSize.call(this,a,b);var c=this.getBodyHeight(),d=this.$$paddingLeft,e=this._uNext;this._uPrev.$setSize(d,c),e.$setSize(this.$$paddingRight,c),this._uThumb.$setSize(0,c),e.setPosition(this.getBodyWidth()+d,0),this.$flushThumb()},G.getMouseDirection=function(){return r(this)<this._uThumb.getX()?-1:r(this)>this._uThumb.getX()+this._uThumb.getWidth()?1:0}}(),function(){function a(a){z(v(k(A(a).target)),"scroll")}var b=ecui,c=b.dom,d=b.ui,e=b.util,f=Math,g=f.max,h=f.min,i=f.floor,j=c.create,k=c.getParent,l=c.getPosition,m=c.getStyle,n=c.moveElements,o=e.attachEvent,p=e.blank,q=e.detachEvent,r=e.toNumber,s=b.$fastCreate,t=b.calcHeightRevise,u=b.calcWidthRevise,v=b.findControl,w=b.getKey,x=b.getScrollNarrow,y=b.inherits,z=b.triggerEvent,A=b.wrapEvent,B=d.Control,C=B.prototype,D=d.VScrollbar,E=d.HScrollbar,F=y(B,null,null,function(b,c){q(b,"scroll",a),o(b,"scroll",a)}),G=F.prototype;G.$hide=G.hide=function(){this.getMain().style[this._aProperty[0]]="hidden",G.setValue.call(this,0)},G.$setValue=function(a){this.getMain()[this._aProperty[1]]=h(g(0,a),this.getTotal())},G.$show=G.show=function(){this.getMain().style[this._aProperty[0]]="scroll"},G.getHeight=function(){return this._aProperty[4]?this.getMain()[this._aProperty[4]]:x()},G.getTotal=function(){return r(this.getMain().lastChild.style[this._aProperty[2]])},G.getValue=function(){return this.getMain()[this._aProperty[1]]},G.getWidth=function(){return this._aProperty[3]?this.getMain()[this._aProperty[3]]:x()},G.isShow=function(){return"hidden"!=this.getMain().style[this._aProperty[0]]},G.setTotal=function(a){this.getMain().lastChild.style[this._aProperty[2]]=a+"px"},G.setValue=function(a){this.$setValue(a),z(this.getParent(),"scroll")},G.$cache=G.$getPageStep=G.$setPageStep=G.$setSize=G.alterClass=G.cache=G.getStep=G.init=G.setPosition=G.setStep=G.skip=p;var H=y(F,null,null,function(a,b){this._aProperty=["overflowY","scrollTop","height",null,"offsetHeight"]}),I=y(F,null,null,function(a,b){this._aProperty=["overflowX","scrollLeft","width","offsetWidth",null]}),J=y(B),K=J.prototype;!function(){for(var a in C)K[a]=p}();var L=d.Panel=y(B,"ui-panel",function(a,b){var c=!1!==b.vScroll,d=!1!==b.hScroll,e=this.getType(),f=j(e+"-body","position:absolute;top:0px;left:0px"+(d?";white-space:nowrap":""));a.style.overflow="hidden",n(a,f,!0),a.innerHTML=(b.browser?'<div style="position:absolute;top:0px;left:0px;overflow:auto;padding:0px;border:0px"><div style="width:1px;height:1px;padding:0px;border:0px"></div></div>':(c?'<div class="'+e+"-vscrollbar"+this.VScrollbar.TYPES+'" style="position:absolute"></div>':"")+(d?'<div class="'+e+"-hscrollbar"+this.HScrollbar.TYPES+'" style="position:absolute"></div>':"")+(c&&d?'<div class="'+e+"-corner"+B.TYPES+'" style="position:absolute"></div>':""))+'<div class="'+e+'-layout" style="position:relative;overflow:hidden;padding:0px"></div>',a.lastChild.appendChild(f)},function(a,b){var c,d=0,e=b.browser,f=!1!==b.vScroll,g=!1!==b.hScroll,h=[[f,"_uVScrollbar",e?H:this.VScrollbar],[g,"_uHScrollbar",e?I:this.HScrollbar],[f&&g,"_uCorner",e?J:B]];for(this.$setBody(a.lastChild.lastChild),this._bAbsolute=b.absolute,this._nWheelDelta=b.wheelDelta,a=a.firstChild,e&&(this._eBrowser=a);c=h[d++];)c[0]&&(this[c[1]]=s(c[2],a,this),e||(a=a.nextSibling))}),M=L.prototype;M.VScrollbar=D,M.HScrollbar=E,M.$cache=function(a,b){C.$cache.call(this,a,b);var c=this.getBody(),d=c.offsetWidth,e=c.offsetHeight;if(a=m(k(c)),this.$$bodyWidthRevise=u(a),this.$$bodyHeightRevise=t(a),this._bAbsolute)for(var f=0,h=c.all||c.getElementsByTagName("*"),i=l(c);c=h[f++];)c.offsetWidth&&"absolute"==m(c,"position")&&(a=l(c),d=g(d,a.left-i.left+c.offsetWidth),e=g(e,a.top-i.top+c.offsetHeight));this.$$mainWidth=d,this.$$mainHeight=e,this._uVScrollbar&&this._uVScrollbar.cache(!0,!0),this._uHScrollbar&&this._uHScrollbar.cache(!0,!0),this._uCorner&&this._uCorner.cache(!0,!0)},M.$dispose=function(){this._eBrowser=null,C.$dispose.call(this)},M.$keydown=M.$keypress=function(a){var b=w(),c=b%2?this._uHScrollbar:this._uVScrollbar;if(b>=37&&b<=40&&!a.target.value)return c&&c.skip(b+b%2-39),!1},M.$mousewheel=function(a){if(this.isHovered()&&(b=this._uVScrollbar)&&b.isShow()){var b,c=b.getValue(),d=this._nWheelDelta||i(20/b.getStep())||1;return b.skip(a.detail>0?d:-d),a.stopPropagation(),c==b.getValue()}},M.$scroll=function(){var a=this.getBody().style;a.left=-g(this.getScrollLeft(),0)+"px",a.top=-g(this.getScrollTop(),0)+"px"},M.$setSize=function(a,b){C.$setSize.call(this,a,b),this.$locate();var c=this.$getBasicWidth(),d=this.$getBasicHeight(),e=this.$$paddingLeft+this.$$paddingRight,f=this.$$paddingTop+this.$$paddingBottom,g=this.getWidth()-c,h=this.getHeight()-d,i=this.$$mainWidth,j=this.$$mainHeight,l=this._eBrowser,m=this._uVScrollbar,n=this._uHScrollbar,o=this._uCorner,p=m?m.getWidth():0,q=n?n.getHeight():0,r=g-p,s=h-q,t=r+e,u=s+f;if(m&&m.setPosition(t,0),n&&n.setPosition(0,u),o&&o.setPosition(t,u),i<=g&&j<=h)m&&m.$hide(),n&&n.$hide(),o&&o.$hide(),r=g,s=h;else for(;;){if(o){if(i>r&&j>s){n.$setSize(t),n.setTotal(l?i+c:i-r),n.$show(),m.$setSize(0,u),m.setTotal(l?j+d:j-s),m.$show(),o.$setSize(p,q),o.$show();break}o.$hide()}n&&(i>g?(n.$setSize(g+e),n.setTotal(l?i+c:i-g),n.$show(),m&&m.$hide(),r=g):n.$hide()),m&&(j>h?(m.$setSize(0,h+f),m.setTotal(l?j+d:j-h),m.$show(),n&&n.$hide(),s=h):m.$hide());break}r-=this.$$bodyWidthRevise,s-=this.$$bodyHeightRevise,m&&m.$setPageStep(s),n&&n.$setPageStep(r),l&&(o=l.style,o.width=g+e+"px",o.height=h+f+"px"),o=k(this.getBody()).style,o.width=r+"px",o.height=s+"px"},M.getScrollLeft=function(){var a=this._uHScrollbar;return a?a.getValue():-1},M.getScrollTop=function(){var a=this._uVScrollbar;return a?a.getValue():-1},M.init=function(){C.init.call(this),this._uVScrollbar&&this._uVScrollbar.init(),this._uHScrollbar&&this._uHScrollbar.init(),this._uCorner&&this._uCorner.init()},M.reset=function(){this._uVScrollbar&&this._uVScrollbar.setValue(0),this._uHScrollbar&&this._uHScrollbar.setValue(0)}}(),function(){var a,b=ecui,c=b.array,d=b.dom,e=b.string,f=b.ui,g=b.util,h=c.indexOf,i=c.remove,j=d.children,k=d.create,l=d.insertBefore,m=e.trim,n=g.blank,o=g.callSuper,p=b.$fastCreate,q=b.getOptions,r=b.inherits,s=b.triggerEvent,t=f.Control,u=t.prototype,v=f.Item=r(t,"ui-item",function(a,b){a.style.overflow="hidden"}),w=v.prototype,x=f.Items={};w.$click=function(a){u.$click.call(this,a);var b=this.getParent();b&&s(b,"itemclick",a,[h(x[b.getUID()],this)])},x.$append=function(a){if(!(a instanceof(this.Item||v))||!1===o(this,"$append"))return!1;x[this.getUID()].push(a),this.$alterItems()},x.$cache=function(a,b){o(this,"$cache");for(var c,d=0,e=x[this.getUID()];c=e[d++];)c.cache(!0,!0)},x.$dispose=function(){delete x[this.getUID()],o(this,"$dispose")},x.$initItems=function(){this.$alterItems=this.$initItems=n,x[this.getUID()]=[];for(var a,b=0,c=j(this.getBody());a=c[b++];)this.add(a);delete this.$alterItems},x.$remove=function(a){o(this,"$remove"),i(x[this.getUID()],a),this.$alterItems()},x.add=function(a,b,c){var d,e=x[this.getUID()];return a instanceof v?a.setParent(this):("string"==typeof a&&(this.getBody().appendChild(d=k()),d.innerHTML=a,a=d),d=this.Item||v,a.className=m(a.className)+" "+this.getType()+"-item"+d.TYPES,c=c||q(a),c.parent=this,c.select=!1,e.push(a=p(d,a,this,c)),this.$alterItems()),a.getParent()&&(d=e[b])&&d!=a&&(l(a.getOuter(),d.getOuter()),e.splice(b,0,e.pop())),a},x.append=function(b,c){this.add(b,a,c)},x.getItems=function(){return x[this.getUID()].slice()},x.init=function(){o(this,"init"),this.$alterItems()},x.remove=function(a){return"number"==typeof a&&(a=x[this.getUID()][a]),a&&a.setParent(),a||null},x.setItemSize=function(a,b){for(var c,d=0,e=x[this.getUID()];c=e[d++];)c.$setSize(a,b)}}(),function(){function a(a,c){if(c!==a._nStatus){a.setClass(a.getPrimary()+["-checked","","-part"][c]),a._nStatus=c;var d=a.getInput();d.defaultChecked=d.checked=!c,a._cSubject&&b(a._cSubject)}}function b(b){for(var d,e,f=0;e=b._aDependents[f++];){if(d!==c&&d!=e._nStatus){d=2;break}d=e._nStatus}d!==c&&a(b,d)}var c,d=ecui,e=d.array,f=d.ui,g=d.util,h=e.remove,i=g.setDefault,j=d.$connect,k=d.getKey,l=d.inherits,m=f.InputControl,n=m.prototype,o=f.Checkbox=l(m,"ui-checkbox",function(a,b){i(b,"hidden",!0),i(b,"inputType","checkbox")},function(a,b){this._bDefault=this.getInput().defaultChecked,this._aDependents=[],j(this,this.setSubject,b.subject)}),p=o.prototype;p.$click=function(a){n.$click.call(this,a),this.setChecked(!!this._nStatus)},p.$dispose=function(){var a,b,c=this._aDependents.slice(0);for(this.setSubject(),a=0;b=c[a];a++)b.setSubject();n.$dispose.call(this)},p.$keydown=p.$keypress=p.$keyup=function(a){n["$"+a.type].call(this,a),32==k()&&("keyup"==a.type&&this.setChecked(!!this._nStatus),a.preventDefault())},p.$ready=function(){this._aDependents.length||a(this,this.getInput().checked?0:1)},p.$reset=function(a){this.getInput().checked=this._bDefault,n.$reset.call(this,a)},p.getDependents=function(){return this._aDependents.slice()},p.getSubject=function(){return this._cSubject||null},p.isChecked=function(){return!this._nStatus},p.setChecked=function(b){a(this,b?0:1);for(var c,d=0;c=this._aDependents[d++];)c.setChecked(b)},p.setDefaultValue=function(){this._bDefault=this.isChecked()},p.setSubject=function(a){var c=this._cSubject;c!=a&&(this._cSubject=a,c&&(h(c._aDependents,this),b(c)),a&&(a._aDependents.push(this),b(a)))}}(),function(){function a(a,c){if(c!==b){var d=a.getInput();d.defaultChecked=d.checked=c}a.setClass(a.getPrimary()+(a.isChecked()?"-checked":""))}var b,c=ecui,d=c.ui,e=c.util,f=e.setDefault,g=c.getKey,h=c.inherits,i=c.query,j=d.InputControl,k=j.prototype,l=d.Radio=h(j,"ui-radio",function(a,b){f(b,"hidden",!0),f(b,"inputType","radio")},function(a,b){this._bDefault=this.getInput().defaultChecked}),m=l.prototype;m.$click=function(a){k.$click.call(this,a),this.setChecked(!0)},m.$keydown=m.$keypress=m.$keyup=function(a){k["$"+a.type].call(this,a),32==a.which&&("keyup"==a.type&&32==g()&&this.setChecked(!0),a.preventDefault())},m.$ready=function(){a(this)},m.$reset=function(a){this.getInput().checked=this._bDefault,k.$reset.call(this,a)},m.getItems=function(){var a=0,b=this.getInput(),c=b.form,d=b.name,e=[];if(d){if(c){for(b=c[d],b&&!b[0]&&(b=[],b.push(c[d]));d=b[a++];)d.getControl&&e.push(d.getControl());return e}return i({type:l,custom:function(a){return!a.getInput().form&&a.getName()==d}})}return[this]},m.isChecked=function(){return this.getInput().checked},m.setChecked=function(b){if(this.isChecked()!=b)if(b)for(var c,d=0,e=this.getItems();c=e[d++];)a(c,c==this);else a(this,!1)},m.setDefaultValue=function(){this._bDefault=this.isChecked()}}(),function(){function a(a){var b=a._uOptions,c=b.$getSection("VScrollbar"),d=b.getOuter(),e=r(a.getOuter()),f=a._cSelected,g=e.top+a.getHeight();q(d)||(j.body.appendChild(d),a.cache(!1,!0),a.$alterItems()),b.isShow()&&(f&&H(f),c.setValue(c.getStep()*n(a.getItems(),f)),a=b.getHeight(),b.setPosition(e.left,g+a<=y().bottom?g:e.top-a))}function b(a,b){b!==a._cSelected&&(a._uText.setContent(b?b.getBody().innerHTML:""),K.setValue.call(a,b?b._sValue:""),a._cSelected=b,a._uOptions.isShow()&&H(b))}var c,d=ecui,e=d.array,f=d.dom,g=d.string,h=d.ui,i=d.util,j=document,k=Math,l=k.max,m=k.min,n=e.indexOf,o=f.children,p=f.create,q=f.getParent,r=f.getPosition,s=f.getText,t=(f.insertAfter,f.insertBefore),u=f.moveElements,v=f.remove,w=g.encodeHTML,x=i.extend,y=i.getView,z=i.setDefault,A=d.$fastCreate,B=d.getAttributeName,C=d.getFocused,D=d.inherits,E=d.intercept,F=d.mask,G=d.restore,H=d.setFocused,I=d.triggerEvent,J=h.InputControl,K=J.prototype,L=h.Button,M=h.Scrollbar,N=h.Panel,O=N.prototype,P=h.Item,Q=P.prototype,R=h.Items,S=h.Select=D(J,"ui-select",function(a,b){var d=a.name||b.name||"",e=this.getType(),f=p(e+"-options"+this.Options.TYPES,"position:absolute;z-index:65535;display:none");if(b.value=b.value?b.value+"":c,z(b,"hidden",!0),"SELECT"==a.tagName){var g=0,h=[],i=a.options,j=a;for(b.value=a.value,a=t(p(a.className,a.style.cssText,"span"),a),v(j);j=i[g];)h[g++]="<div "+B()+'="value:'+w(j.value)+'">'+j.text+"</div>";f.innerHTML=h.join("")}else u(a,f);return a.innerHTML='<span class="'+e+"-text"+P.TYPES+'"></span><span class="'+e+"-button"+L.TYPES+'" style="position:absolute"></span><input name="'+d+'" value="'+w(b.value||"")+'">',a.appendChild(f),a},function(a,b){a=o(a),this._uText=A(P,a[0],this,{capturable:!1}),this._uButton=A(L,a[1],this,{capturable:!1}),this._uOptions=A(this.Options,v(a[3]),this,{hScroll:!1,browser:b.browser}),this.$setBody(this._uOptions.getBody()),this._nOptionSize=b.optionSize||5,this.$initItems()}),T=S.prototype,U=(T.Options=D(N)).prototype,V=(T.Item=D(P,null,null,function(a,b){this._sValue=b.value===c?s(a):""+b.value})).prototype;x(T,R),U.$dispose=function(){this.hide(),O.$dispose.call(this)},U.$hide=function(){O.$hide.call(this),F(),G()},V.$mouseover=function(a){Q.$mouseover.call(this,a),H(this)},V.getValue=function(){return this._sValue},V.setValue=function(a){var b=this.getParent();this._sValue=a,b&&this==b._cSelected&&K.setValue.call(b,a)},T.$activate=function(b){b.getControl()instanceof M||(K.$activate.call(this,b),this._uOptions.show(),E(this),F(0,65534),a(this),b.stopPropagation())},T.$alterItems=function(){var a=this._uOptions,b=a.$getSection("VScrollbar"),c=this._nOptionSize,d=this.getBodyHeight(),e=this.getWidth(),f=this.getItems().length;q(a.getOuter())&&(b.setStep(d),this.setItemSize(e-a.getMinimumWidth()-(f>c?b.getWidth():0),d),a.$$mainHeight=f*d+a.$$bodyHeightRevise,a.$setSize(e,(m(f,c)||1)*d+a.getMinimumHeight()))},T.$cache=function(a,b){(q(this._uOptions.getOuter())?R:K).$cache.call(this,a,b),this._uText.cache(!1,!0),this._uButton.cache(!1,!0),this._uOptions.cache(!1,!0)},T.$intercept=function(a){this._uOptions.hide();for(var c=a.getControl();c;c=c.getParent())if(c instanceof this.Item){c!=this._cSelected&&(b(this,c),I(this,"change"));break}a.exit()},T.$keydown=T.$keypress=function(a){K["$"+a.type](a);var c=this._uOptions,d=c.$getSection("VScrollbar"),e=this._nOptionSize,f=a.which,g=this.getItems(),h=g.length,i=C();if(this.isFocused()){if(40==f||38==f)return h&&(c.isShow()?(H(g[f=m(l(0,n(g,i)+f-39),h-1)]),f-=d.getValue()/d.getStep(),d.skip(f<0?f:f>=e?f-e+1:0)):this.setSelectedIndex(m(l(0,n(g,this._cSelected)+f-39),h-1))),!1;if(27==f||13==f&&c.isShow())return c.hide(),13==f&&(b(this,i),I(this,"change")),!1}},T.$mousewheel=function(a){if(this.isFocused()){var b=this._uOptions,c=this.getItems();c.length;b.isShow()&&b.$mousewheel(a),a.exit()}},T.$ready=function(){this.setValue(this.getValue())},T.remove=function(a){return"number"==typeof a&&(a=this.getItems()[a]),a==this._cSelected&&b(this),R.remove.call(this,a)},T.add=function(a,b,c){return a=R.add.call(this,a,b,c),q(this._uOptions.getOuter())&&a.cache(!0,!0),a},T.$setSize=function(a,b){K.$setSize.call(this,a,b),this.$locate(),b=this.getBodyHeight(),this._uText.$setSize(a=this.getBodyWidth()-b,b),this._uButton.$setSize(b,b),this._uButton.setPosition(a,0)},T.getSelected=function(){return this._cSelected||null},T.setOptionSize=function(b){this._nOptionSize=b,this.$alterItems(),a(this)},T.setSelectedIndex=function(a){b(this,this.getItems()[a])},T.setValue=function(a){for(var c,d=0,e=this.getItems();c=e[d++];)if(c._sValue==a)return void b(this,c);b(this)},T.clear=function(){for(var a=this.getItems()||[],b=a.length;b-- >0;)this.remove(0);this._uOptions.reset()}}(),function(){var a=ecui,b=a.ui,c=a.util,d=a.inherits,e=a.$connect,f=a.triggerEvent,g=c.blank,h=b.Control,i=h.prototype,j=["click","mouseover","mouseout","mouseup","mousedown"],k=b.Label=d(h,"ui-label",null,function(a,b){this._bResizable=!1,e(this,this.setFor,b.for)}),l=k.prototype;l.setFor=function(a){this._cFor=a},l.$setSize=g,function(){var a,b;for(a=0;b=j[a];a++)l["$"+b]=function(a){return function(b){i["$"+a].call(this,b);var c=this._cFor;c&&!c.isDisabled()&&f(c,a,b)}}(b)}()}(),function(){function a(a){I.push(I.splice(k(I,a),1)[0]);for(var b,c=0,d=I.length-J;b=I[c++];)b.getOuter().style.zIndex=c>d?32767+2*(c-d):4095+c}var b,c=ecui,d=c.array,e=c.dom,f=c.ui,g=c.string,h=c.util,i=Math,j=i.max,k=d.indexOf,l=e.children,m=e.create,n=e.first,o=e.getStyle,p=e.moveElements,q=g.encodeHTML,r=h.getView,s=c.$fastCreate,t=c.calcHeightRevise,u=c.calcWidthRevise,v=c.drag,w=c.inherits,x=c.loseFocus,y=c.triggerEvent,z=c.mask,A=c.setFocused,B=f.Control,C=f.Control.prototype,D=f.Button,E=f.Form=w(B,"ui-form",function(a,b){var c=this.getType(),d=m(c+"-body","position:relative;overflow:auto"),e=n(a);p(a,d,!0),e&&"LABEL"==e.tagName?(a.innerHTML='<div class="'+c+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',a.insertBefore(e,a.firstChild),e.className=c+"-title"+this.Title.TYPES,e.style.position="absolute"):(a.innerHTML='<label class="'+c+"-title"+this.Title.TYPES+'" style="position:absolute">'+(b.title?q(b.title):"")+'</label><div class="'+c+"-close"+this.Close.TYPES+'" style="position:absolute"></div>',e=a.firstChild),a.style.overflow="hidden",a.appendChild(d)},function(a,b){this._bAutoHeight=!a.style.height,a=l(a),this._bFlag=b.hide,this._bAutoTitle=!1!==b.autoTitle,this._bAutoCenter=!0===b.autoCenter,this._uTitle=s(this.Title,a[0],this,{userSelect:!1}),this._uClose=s(this.Close,a[1],this),!1===b.closeButton&&this._uClose.$hide(),this.$setBody(a[2])}),F=E.prototype,G=(F.Title=w(B)).prototype,H=(F.Close=w(D)).prototype,I=[],J=0;G.$activate=function(a){C.$activate.call(this,a),v(this.getParent(),a)},H.$click=function(a){C.$click.call(this,a),this.getParent().hide("CLOSE")},F.$cache=function(a,b){C.$cache.call(this,a,b),a=o(this.getMain().lastChild),this.$$bodyWidthRevise=u(a),this.$$bodyHeightRevise=t(a),this._uTitle.cache(!0,!0),this._uClose.cache(!0,!0)},F.$dispose=function(){if(k(I,this)>=0)try{this.$hide()}catch(a){}C.$dispose.call(this)},F.$focus=function(){C.$focus.call(this),a(this)},F.$hide=function(){var a=k(I,this);a>=0&&I.splice(a,1),a>I.length-J&&(this._bFlag&&(a==I.length?z():I[a]._bFlag=!0,this._bFlag=!1),J--),C.$hide.call(this),x(this)},F.$setSize=function(a,b){this._bAutoHeight&&(b=null),C.$setSize.call(this,a,b),this.$locate();var c=this.getMain().lastChild.style;c.width=this.getBodyWidth()+"px",this._bAutoHeight||(c.height=this.getBodyHeight()+"px"),this._bAutoTitle&&this._uTitle.$setSize(this.getWidth()-this.$getBasicWidth())},F.$show=function(){I.push(this),C.$show.call(this),A(this)},F.center=function(){if(a=this.getOuter(),a.style.position=this.$$position="absolute",(a=a.offsetParent)&&"BODY"!=a.tagName&&"HTML"!=a.tagName)b=a.offsetWidth,c=a.offsetHeight;else var a=r(),b=a.right+a.left,c=a.bottom+a.top;this.setPosition(j((b-this.getWidth())/2,0),j((c-this.getHeight())/2,0))},F.hide=function(a){for(var b,c=k(I,this);b=I[++c];)if(b._bFlag)return!1;return"CLOSE"==a&&y(this,"close",event,[]),C.hide.call(this)},F.init=function(){C.init.call(this),this._uTitle.init(),this._uClose.init(),this._bFlag?(this._bFlag=!1,this.$hide()):this.$show()},F.setTitle=function(a){this._uTitle.setContent(a||"")},F.show=function(){J&&k(I,this)<I.length-J&&J++;var b=C.show.call(this);return b?this._bAutoCenter&&this.center():a(this),b},F.$resize=function(){var a=this.getMain().lastChild.style;C.$resize.call(this),a.width="",a.height=""},F.getHeight=function(){return this._bAutoHeight&&this.cache(!0,!0),C.getHeight.call(this)},F.showModal=function(c){this._bFlag||(k(I,this)<I.length-J&&J++,z(c!==b?c:.15,32766+2*J),this._bFlag=!0,C.show.call(this)?this._bAutoCenter&&this.center():a(this))}}(),function(){function a(a,b){return a._eChildren=b,b.className=a.getType()+"-children",b.style.cssText="",b}function b(a){a.setClass(a.getPrimary()+(a._aChildren.length?a._bCollapsed?"-collapsed":"-expanded":""))}function c(a,b,c){return a.className=(s(a.className)||b.getPrimary())+b.constructor.agent.TYPES+(c&&c.className?" "+c.className:""),v(b.constructor,a,null,t(t({},c),x(a)))}function d(a,c){a._eChildren&&a._bCollapsed!=c&&(a._eChildren.style.display=(a._bCollapsed=c)?"none":"",b(a))}var e=ecui,f=e.array,g=e.dom,h=e.string,i=e.ui,j=e.util,k=f.indexOf,l=f.remove,m=g.addClass,n=g.children,o=g.create,p=g.first,q=g.getStyle,r=g.insertAfter,s=(g.removeClass,h.trim),t=j.extend,u=j.toNumber,v=e.$fastCreate,w=e.getMouseX,x=e.getOptions,y=e.inherits,z=e.triggerEvent,A=i.Control,B=A.prototype,C=i.TreeView=y(A,"ui-treeview",function(b,c){c.resizable=!1;var d=p(b);if(d&&"LABEL"==d.tagName){for(var e=0,f=n(b).slice(1),g=a(this,b.appendChild(o()));d=f[e++];)g.appendChild(d);m(b,c.current=c.primary+(c.collapsed?"-collapsed":"-expanded")),c.collapsed&&(g.style.display="none")}},function(a,b){var d=this._aChildren=[];this._bCollapsed=b.collapsed||!1,this._bExpandSelected=!1!==b.expandSelected;for(var e,f=0,g=n(a.lastChild);e=g[f];)delete b.current,(d[f++]=c(e,this,b)).$setParent(this)}),D=C.prototype;D.$click=function(a){a.getControl()==this&&(B.$click.call(this,a),w(this)<=u(q(this.getBody(),"paddingLeft"))?(this[a=this.isCollapsed()?"expand":"collapse"](),z(this,a)):this.select())},D.$dispose=function(){this._eChildren=null,B.$dispose.call(this)},D.$hide=function(){B.$hide.call(this),this._eChildren&&(this._eChildren.style.display="none")},D.$setParent=function(a){var c=this.getRoot(),d=this.getParent();this==c._cSelected||this==c?(c._cSelected&&c._cSelected.alterClass("-selected"),c._cSelected=null):(l(d._aChildren,this),b(d)),B.$setParent.call(this,a),this._eChildren&&r(this._eChildren,this.getOuter())},D.$show=function(){B.$show.call(this),this._eChildren&&!this._bCollapsed&&(this._eChildren.style.display="")},D.add=function(d,e,f){var g,h=this._aChildren;return this._eChildren||(a(this,o()),r(this._eChildren,this.getOuter()),this._eChildren.style.display=this._bCollapsed?"none":""),(g=h[e])?g=g.getOuter():(e=h.length,g=null),"string"==typeof d?(g=this._eChildren.insertBefore(o(),g),g.innerHTML=d,d=c(g,this,f)):this._eChildren.insertBefore(d.getOuter(),g),d.$setParent(this),h.splice(e,0,d),b(this),d},D.collapse=function(){d(this,!0)},D.expand=function(){d(this,!1)},D.getChildren=function(){return this._aChildren.slice()},D.getFirst=function(){return this._aChildren[0]||null},D.getLast=function(){return this._aChildren[this._aChildren.length-1]||null},D.getNext=function(){var a=this.getParent();return a instanceof C&&a._aChildren[k(a._aChildren,this)+1]||null},D.getPrev=function(){var a=this.getParent();return a instanceof C&&a._aChildren[k(a._aChildren,this)-1]||null},D.getRoot=function(){for(var a,b=this;(a=b.getParent())instanceof C&&k(a._aChildren,b)>=0;b=a);return b},D.getSelected=function(){return this.getRoot()._cSelected||null},D.init=function(){B.init.call(this);for(var a,b=0,c=this._aChildren;a=c[b++];)a.init()},D.isCollapsed=function(){return!this._eChildren||this._bCollapsed},D.select=function(){var a=this.getRoot();a._cSelected!=this&&(a._cSelected&&a._cSelected.alterClass("-selected"),this.alterClass("+selected"),a._cSelected=this),this._bExpandSelected&&this.expand()}}(),function(){function a(a,b){a._uSelected!=b&&(a._uSelected&&a._uSelected.alterClass("-selected"),b&&b.alterClass("+selected"),a._uSelected=b)}var b=ecui,c=b.array,d=b.dom,e=b.ui,f=Date,g=c.indexOf,h=d.addClass,i=d.getParent,j=d.removeClass,k=d.setText,l=b.$fastCreate,m=b.inherits,n=b.triggerEvent,o=e.Control,p=e.MonthView=m(o,"ui-monthview",function(a,b){var c=0,d=this.getType(),e=[];for(a.style.overflow="auto";c<7;)e[c]='<td class="'+d+"-title"+this.Cell.TYPES+'">'+p.WEEKNAMES[c++]+"</td>";for(e[c]="</tr></thead><tbody><tr>";++c<50;)e[c]='<td class="'+d+"-item"+this.Cell.TYPES+'"></td>'+(c%7?"":"</tr><tr>");a.innerHTML='<table cellspacing="0"><thead><tr>'+e.join("")+"</tr></tbody></table>"},function(a,b){this._aCells=[];for(var c,d=0,e=a.getElementsByTagName("TD");c=e[d];)this._aCells[d++]=l(this.Cell,c,this,{resizable:!1});this._oBegin=new Date(b.begin),this._oEnd=new Date(b.end),this.setView(b.year,b.month)}),q=p.prototype,r=(q.Cell=m(o)).prototype;p.WEEKNAMES=["","","","","","",""],r.$click=function(b){var c=this.getParent(),d=g(c._aCells,this),e=c._oDate;d<7?n(c,"titleclick",b,[d]):(d=new f(c._nYear,c._nMonth,this._nDay),e&&d.getTime()==e.getTime()||!n(c,"change",b,[d])||(c._oDate=new f(c._nYear,c._nMonth,this._nDay),a(c,this)))},q.getMonth=function(){return this._nMonth+1},q.getYear=function(){return this._nYear},q.move=function(a){var b=new f(this._nYear,this._nMonth+a,1);this.setView(b.getFullYear(),b.getMonth()+1)},q.setRange=function(a,b,c){this._oBegin=a,this._oEnd=b,c||this.setView(this.getYear(),this.getMonth())},q.setDate=function(a){this.$setDate(a),this.setView(a.getFullYear(),a.getMonth()+1)},q.getDate=function(){return this._oDate},q.$setDate=function(a){this._oDate=a?new f(a.getFullYear(),a.getMonth(),a.getDate()):null},q.setView=function(b,c){var d,e=7,g=new f,b=b||g.getFullYear(),c=c?c-1:g.getMonth(),l=new f(b,c,0),m=1-l.getDay(),n=l.getDate(),o=new f(b,c+1,0).getDate(),p=this._oBegin,q=this._oEnd,r=this._oDate;for(this._nYear=b,this._nMonth=c,p=p?new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime():0,q=q?new Date(q.getFullYear(),q.getMonth(),q.getDate()).getTime():Number.MAX_VALUE,r=r&&r.getFullYear()==b&&r.getMonth()==c?r.getDate():0,a(this,null);l=this._aCells[e++];)(c=m>0&&m<=o)?(d=new Date(this._nYear,this._nMonth,m).getTime(),p>d||q<d?l.disable():(l.enable(),m==r&&a(this,l))):l.disable(),36!=e&&43!=e||(l.isDisabled()?h:j)(i(l.getOuter()),this.getType()+"-extra"),k(l.getBody(),c?m:m>o?m-o:n+m),l._nDay=m++}}(),function(){function a(){return this.getControl=null,b(this)}function b(a){var b=y(a).getControl(),c=b.getParent();return G(c.Cell,a,b,D({},c._aHCells[s(b._aElements,a)]._oOptions))}function c(a){for(var b,c,d=0,e=a.getParent()._aHCells;c=e[d];)if((b=a._aElements[d++])&&b!=c.getMain()){for(c=c.getWidth()-c.getMinimumWidth();null===a._aElements[d];)c+=e[d++].getWidth();try{b.style.width=c+"px"}catch(a){}}}function d(a){var b=1,c=this.getParent()[this instanceof P?"_aRows":"_aHCells"],d=c.length,e=this.getValue();if((a=p(o(0,a),this.getTotal()))!=e){if(a>e){if(1==d)return void O.setValue.call(this,this.getTotal());for(;;b++)if(a<=c[b].$$pos){e<c[b-1].$$pos&&b--;break}}else for(b=d;b--;)if(a>=c[b].$$pos){b<d-1&&e>c[b+1].$$pos&&b++;break}O.setValue.call(this,c[b].$$pos)}}var e,f=ecui,g=f.array,h=f.dom,i=f.string,j=f.ui,k=f.util,l=document,m=Math,n=RegExp,o=m.max,p=m.min,q=navigator.userAgent,r=/msie (\d+\.\d)/i.test(q)?l.documentMode||n.$1-0:e,s=g.indexOf,t=h.children,u=h.create,v=h.first,w=h.getPosition,x=h.getAttribute,y=h.getParent,z=h.insertBefore,A=(h.insertHTML,h.next),B=h.remove,C=i.trim,D=k.extend,E=k.toNumber,F=k.getView,G=f.$fastCreate,H=f.dispose,I=f.getOptions,J=f.inherits,K=f.triggerEvent,L=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"],M=j.Control,N=M.prototype,O=j.Scrollbar.prototype,P=j.VScrollbar,Q=j.Panel,R=Q.prototype,S=j.Table=J(Q,"ui-table",function(a,b){var c,d;this.getType();if(b.wheelDelta=1,"TABLE"==a.tagName){var e=a;z(a=u(e.className),e).appendChild(e),b.width&&(a.style.width=b.width),b.height&&(a.style.height=b.height),e.className=""}return d=a.getElementsByTagName("TABLE")[0],c=t(d),d.setAttribute("cellSpacing","0"),"THEAD"!=c[0].tagName&&z(u("","","thead"),c[0]).appendChild(t(c[0])[0]),a},function(a,b){var c=0,f=this.getType(),g=this._aRows=[],h=this._aHCells=[],i=[],j=a.getElementsByTagName("TABLE")[0],k=t(j),l=k[0],m=1;for(j=t(k[0]),m=j.length,k=j.concat(t(k[1])),(j=this.$getSection("VScrollbar"))&&(j.setValue=d),(j=this.$getSection("HScrollbar"))&&(j.setValue=d),j=u(f+"-head"+M.TYPES,"position:absolute;top:0px;overflow:hidden"),j.innerHTML='<div style="white-space:nowrap;position:absolute"><table cellspacing="0"><tbody></tbody></table></div>',(this._uHead=G(M,this.getMain().appendChild(j),this)).$setBody(l);j=k[c];c++)j.className=C(j.className)+this.Row.TYPES,k[c]=v(j),i[c]=1,(g[c]=G(this.Row,j,this))._aElements=[];for(l=0;;l++)for(c=0;j=g[c];c++)if(!(i[c]-- >1))if(a=k[c]){if(j._aElements[l]===e){j._aElements[l]=a,k[c]=A(a);for(var n=+x(a,"rowSpan")||1,o=i[c]=+x(a,"colSpan")||1;n--;)for(n||o--,j=o;j--;)g[c+n]._aElements.push(!n&&null)}}else{if(!1===j._aElements[l])continue;for(l=0;;l++)for(f={},c=0;j=g[c];c++){if((a=j._aElements[l])===e)return void(this._aHeadRows=this._aRows.splice(0,m));a&&(c<m?(D(f,I(a)),a.className=C(a.className)+this.HCell.TYPES,h[l]=G(this.HCell,a,this),h[l]._oOptions=D({},f)):(a.className=(C(a.className)||f.primary||"")+this.Cell.TYPES,a.getControl=X()))}}}),T=S.prototype,U=(T.Row=J(M,"ui-table-row")).prototype,V=(T.HCell=J(M,"ui-table-hcell")).prototype,W=(T.Cell=J(M,"ui-table-cell",function(a,b){b.resizable=!1})).prototype,X=8==r?function(){var a;return function(){return a=a||b(this)}}:function(){return a};U.$dispose=function(){this._aElements=null,N.$dispose.call(this)},U.$getElements=function(){return this._aElements.slice()},U.$hide=function(){for(var a,b,c,d=0,f=this.getParent(),g=s(f._aRows,this),h=f._aRows[g+1];f._aHCells[d];d++)if(!1===(c=this._aElements[d]))c=f.$getElement(g-1,d),b!=c&&(c.setAttribute("rowSpan",+x(c,"rowSpan")-1),b=c);else if(c&&(a=+x(c,"rowSpan"))>1){for(c.setAttribute("rowSpan",a-1),a=d+1;!(b=h._aElements[a++])&&b!==e;);c.getControl().$setParent(h),h.getBody().insertBefore(c,b||null)}N.$hide.call(this),f.repaint()},U.$show=function(){for(var a,b,c,d=0,f=this.getParent(),g=s(f._aRows,this),h=f._aRows[g+1];f._aHCells[d];d++)if(!1===(c=this._aElements[d]))c=f.$getElement(g-1,d),b!=c&&(c.setAttribute("rowSpan",+x(c,"rowSpan")+1),b=c);else if(c&&h&&!1===h._aElements[d]){for(c.setAttribute("rowSpan",+x(c,"rowSpan")+1),a=d+1;!(b=this._aElements[a++])&&b!==e;);c.getControl().$setParent(this),this.getBody().insertBefore(c,b||null)}N.$show.call(this),f.resize()},U.getCell=function(a){return this._aElements[a]?this._aElements[a].getControl():null},U.getCells=function(){for(var a=this._aElements.length,b=[];a--;)b[a]=this.getCell(a);return b},U.setSize=function(a,b){for(var c=this._aElements.length,d=this.getHeight();c--;)this._aElements[c]&&this._aElements[c].getControl().$setSize(null,b);this.getParent()[b>d?"resize":"repaint"]()},V.$hide=function(){this.$setStyles("display","none",-this.getWidth())},V.$setStyles=function(a,b,c){var d,e=0,f=this.getParent(),g=f._aHeadRows.concat(f._aRows),h=this.getBody(),i=f._aHCells,j=s(i,this),k=y(y(y(h))).style;for(h.style[a]=b,c&&(k.width=v(f.getBody()).style.width=E(k.width)+c+"px");k=g[e++];)if(h=k._aElements,k=h[j],k&&(k.style[a]=b),c&&!1!==k){for(d=j;!(k=h[d]);d--);var l=-i[d].getMinimumWidth(),m=0;do{i[d].getOuter().style.display||(l+=i[d].getWidth(),m++)}while(null===h[++d]);l>0?(k.style.display="",k.style.width=l+"px",k.setAttribute("colSpan",m)):k.style.display="none"}c>0?f.resize():f.repaint()},V.$show=function(){this.$setStyles("display","",this.getWidth())},V.getCell=function(a){return this.getParent().getCell(a,s(this._aHCells,this))},V.getCells=function(){for(var a,b=0,c=s(this.getParent()._aHCells,this),d=[];a=this.getParent()._aRows[b];)d[b++]=a.getCell(c);return d},V.setSize=function(a){var b=this.getWidth();this.$setSize(a),this.$setStyles("width",a-this.$getBasicWidth()+"px",a-b)},W.getHeight=function(){return this.getOuter().offsetHeight},W.getWidth=function(){return this.getOuter().offsetWidth},T.$cache=function(a,b){R.$cache.call(this,a,b),this._uHead.cache(!1,!0),this.$$paddingTop=this._uHead.getBody().offsetHeight;for(var c=0,d=0;a=this._aRows[c++];)a.$$pos=d,a.cache(!0,!0),a.getOuter().style.display||(d+=a.getHeight());for(c=0,d=0;a=this._aHCells[c++];)a.$$pos=d,a.cache(!0,!0),a.getOuter().style.display||(d+=a.getWidth());this.$$mainWidth=d},T.$getElement=function(a,b){var c=this._aRows,d=c[a]&&c[a]._aElements,f=d&&d[b];if(f===e)f=null;else if(!f){for(;!1===f;f=(d=c[--a]._aElements)[b]);for(;!f;f=d[--b]);}return f},T.$pagescroll=function(){R.$pagescroll.call(this),this._uVScrollbar||(this._uHead.getOuter().style.top=o(F().top-w(this.getOuter()).top,0)+"px")},T.$scroll=function(){R.$scroll.call(this),this._uHead.getMain().lastChild.style.left=this.getBody().style.left},T.$setSize=function(a,b){var c,d=this.getBody(),e=this.$getSection("VScrollbar"),f=this.$getSection("HScrollbar"),g=this.$$mainWidth,h=this.$$mainHeight,i=e&&e.getWidth(),j=f&&f.getHeight(),k=this.$getBasicWidth(),l=this.$getBasicHeight(),m=g+k,n=h+l,o=a-k,q=b-l;this.getMain().style.paddingTop=this.$$paddingTop+"px",v(d).style.width=this._uHead.getMain().lastChild.lastChild.style.width=g+"px",g<=o&&h<=q?(a=m,b=n):e&&f&&g>o-i&&h>q-j||(c=m+(!e||q>=h?0:i),a=f?p(a,c):c,c=n+(!f||o>=g?0:j),b=e?p(b,c):c),R.$setSize.call(this,a,b),this._uHead.$setSize(E(y(d).style.width),this.$$paddingTop)},T.addColumn=function(a,b){var c,d,f=0,g=this._aHeadRows.length,h=this._aHeadRows.concat(this._aRows),i=a.primary||"",j=u(i+this.HCell.TYPES,"","td"),k=G(this.HCell,j,this);for(j.innerHTML=a.title||"",i+=this.Cell.TYPES;c=h[f];f++)if(null!==(d=c._aElements[b])){for(m=b;!d&&(d=c._aElements[++m])!==e;);f<g?(c._aElements.splice(b,0,c.getBody().insertBefore(j,d)),j.setAttribute("rowSpan",g-f),this._aHCells.splice(b,0,k),f=g-1):(c._aElements.splice(b,0,d=c.getBody().insertBefore(u(i,"","td"),d)),d.getControl=X())}else{var l=this.$getElement(f-g,b),m=+x(l,"rowspan")||1;for(l.setAttribute("colSpan",+x(l,"colSpan")+1),c._aElements.splice(b,0,d);--m;)h[++f]._aElements.splice(b,0,!1)}return k.cache(),k.$setSize(a.width),k.$setStyles("width",j.style.width,a.width),k._oOptions=D({},a),k},T.addRow=function(a,b){var c,d=0,e=1,f=this.getBody().lastChild.lastChild,g=u(),h=['<table><tbody><tr class="'+this.Row.TYPES+'">'],i=[],j=this._aRows[b];for(j||(b=this._aRows.length);c=this._aHCells[d];)if(j&&!1===j._aElements[d]||!1===a[d])i[d++]=!1;else{i[d]=!0,h[e++]='<td class="'+this.Cell.TYPES+'" style="';for(var k=d,l=c.isShow()?1:0,m=c.getWidth()-c.getMinimumWidth();(c=this._aHCells[++d])&&null===a[d];)i[d]=null,c.isShow()&&(l++,m+=c.getWidth());i[k]=!0,h[e++]=(l?"width:"+m+'px" colSpan="'+l:"display:none")+'">'+(a[k]||"")+"</td>"}for(h[e]="</tr></tbody></table>",g.innerHTML=h.join(""),g=g.lastChild.lastChild.lastChild,f.insertBefore(g,j?j.getOuter():null),j=G(this.Row,g,this),this._aRows.splice(b--,0,j),d=0,g=g.firstChild,c=null;this._aHCells[d];d++)(k=i[d])?(i[d]=g,g.getControl=X(),g=g.nextSibling):!1===k&&(k=this.$getElement(b,d))!=c&&(k.setAttribute("rowSpan",(+x(k,"rowSpan")||1)+1),c=k);return j._aElements=i,this.resize(),j},T.getCell=function(a,b){return(a=this._aRows[a])&&a.getCell(b)||null},T.getColumnCount=function(){return this._aHCells.length},T.getHCell=function(a){return this._aHCells[a]||null},T.getHCells=function(){return this._aHCells.slice()},T.getRow=function(a){return this._aRows[a]||null},T.getRowCount=function(){return this._aRows.length},T.getRows=function(){return this._aRows.slice()},T.init=function(){z(this._uHead.getBody(),this._uHead.getMain().lastChild.lastChild.firstChild),this.$$mainHeight-=this.$$paddingTop,R.init.call(this);for(var a,b=0;a=this._aHCells[b++];)a.$setSize(a.getWidth());for(b=0;a=this._aHeadRows[b++];)c(a);for(b=0;a=this._aRows[b++];)c(a)},T.removeColumn=function(a){var b=0,c=this._aHCells,d=c[a];if(d)for(d.hide(),B(d.getOuter()),H(d),c.splice(a,1);d=this._aRows[b++];){if(c=d._aElements,d=c[a]){if(null===c[a+1]){c.splice(a+1,1);continue}B(d),d.getControl!=X()&&H(d.getControl())}c.splice(a,1)}},T.removeRow=function(a){var b,c=0,d=this._aRows[a],e=this._aRows[a+1],f=d.getBody();if(d){for(d.hide();this._aHCells[c];c++)if((b=d._aElements[c])&&y(b)!=f){for(e._aElements[c]=b;null===d._aElements[++c];)e._aElements[c]=null;c--}B(d.getOuter()),H(d),this._aRows.splice(a,1),this.repaint()}},function(){function a(a){var b=a.replace("mouse","");a="$"+a,U[a]=function(c){N[a].call(this,c),K(this.getParent(),"row"+b,c)},W[a]=function(c){N[a].call(this,c),K(this.getParent().getParent(),"cell"+b,c)}}for(var b=0;b<7;)a(L[b++])}()}(),function(){function a(a){a&&a.setClass(a.getPrimary()+(a.getItems().length?"-branch":""))}var b=ecui,c=b.array,d=b.dom,e=b.ui,f=b.util,g=document,h=Math,i=h.max,j=h.min,k=c.indexOf,l=d.create,m=d.first,n=d.getParent,o=d.getPosition,p=d.moveElements,q=d.remove,r=f.blank,s=f.extend,t=f.getView,u=f.toNumber,v=b.$fastCreate,w=b.inherits,x=b.intercept,y=b.restore,z=e.Control,A=z.prototype,B=e.Button,C=B.prototype,D=e.Item,E=D.prototype,F=e.Items,G=e.PopupMenu=w(z,"ui-popup",null,function(a,b){var c=this.getType();if(q(a),a.style.cssText+=";position:absolute;overflow:hidden",this._nOptionSize=b.optionSize){var d=l(c+"-body","position:absolute;top:0px;left:0px");p(a,d),a.innerHTML='<div class="'+c+"-prev"+this.Button.TYPES+'" style="position:absolute;top:0px;left:0px"></div><div class="'+c+"-next"+this.Button.TYPES+'" style="position:absolute"></div>',this.$setBody(a.insertBefore(d,a=a.firstChild)),this._uPrev=v(this.Button,a,this),this._uNext=v(this.Button,a.nextSibling,this)}this.$initItems()}),H=G.prototype,I=(H.Button=w(B,null,function(a,b){b.userSelect=b.focusable=!1})).prototype,J=(H.Item=w(D,null,null,function(b,c){var d,e=m(b);e&&"LABEL"==e.tagName&&(p(b,d=l(c.parent.getPrimary()+G.TYPES)),b.appendChild(e),this._cSubPopup=v(G,d,this,s({},c))),a(this)})).prototype,K=[];s(H,F),I.$click=function(a){C.$click.call(this,a);var b=this.getParent(),c=b.getBody().style,d=b.getItems(),e=d[0].getHeight(),f=b._uPrev.getHeight(),g=(u(c.top)-f)/e;c.top=j(i(b._uPrev==this?++g:--g,b._nOptionSize-d.length),0)*e+f+"px"},J.$click=function(a){E.$click.call(this,a),this.getItems().length||K[0].hide()},J.$deactivate=function(a){E.$deactivate.call(this,a),this.contain(a.getControl())||K[0].hide()},J.$mouseover=function(a){E.$mouseover.call(this,a);var b,c=t(),d=this._cSubPopup,e=this.getParent(),f=k(K,e),g=K[f-1],h=K[f+1],i=o(this.getOuter()),j=i.left;h!=d&&(h&&h.hide(),this.getItems().length&&(e._cExpanded=this,this.alterClass("+expanded"),d.show(),b=d.getWidth(),h=j+this.getWidth()-4,j-=b-4,d.setPosition(h+b>c.right||g&&g.getX()>e.getX()&&j>c.left?j:h,i.top-4)))},J.add=function(a,b,c){var d=this.getParent();return(this._cSubPopup=this._cSubPopup||v(G,l(d.getPrimary()+d.constructor.agent.TYPES),this)).add(a,b,c)},J.getItems=function(){return this._cSubPopup&&this._cSubPopup.getItems()||[]},J.remove=function(a){return this._cSubPopup&&this._cSubPopup.remove(a)},H.$alterItems=function(){if(a(this.getParent()),n(this.getOuter())){var b=this.getItems(),c=b.length,d=c&&b[0].getHeight(),e=this._nOptionSize,f=this._uPrev,g=this._uNext,h=0,i=this.getBodyWidth();this.setItemSize(i,d),d*=j(e,c),e&&(c>e?(f.show(),g.show(),f.$setSize(i),g.$setSize(i),h=f.getHeight(),g.setPosition(0,h+d),d+=h+g.getHeight()):(f.hide(),g.hide())),this.getBody().style.top=h+"px",this.setBodySize(0,d)}},H.$cache=function(a,b){F.$cache.call(this,a,b),this._uPrev&&this._uPrev.cache(!0,!0),this._uNext&&this._uNext.cache(!0,!0)},H.$dispose=function(){this._cExpanded=null,this.hide(),F.$dispose.call(this)},H.$hide=function(){for(var a,b=k(K,this),c=b;a=K[b++];)a._cExpanded&&a._cExpanded.alterClass("-expanded"),A.$hide.call(a);c?(K=K.slice(0,c),K[c-1]._cExpanded.alterClass("-expanded")):(K=[],y())},H.$intercept=function(a){for(var b=a.getControl();b;b=b.getParent())if(b instanceof this.Item)return!1;return K[0].hide(),!1},H.$remove=function(a){this._cExpanded==a&&K[k(K,this)+1].hide(),F.$remove.call(this,a)},H.$show=function(){A.$show.call(this);var a,b=t(),c=this.getOuter(),d=K.length;n(c)||(g.body.appendChild(c),this.$alterItems()),a=o(c),this.setPosition(j(i(a.left,b.left),b.right-this.getWidth()),j(i(a.top,b.top),b.bottom-this.getHeight())),d||x(this),c.style.zIndex=32768+d,K.push(this)},H.appendTo=H.setParent=r,H.cache=function(a,b){n(this.getOuter())&&A.cache.call(this,a,b)},H.repaint=function(){n(this.getOuter())&&A.repaint.call(this)}}(),function(){function a(a,b){return w(a,b),b._eFill=a.lastChild,b}function b(a){for(var b,c=0,d=a.getParent(),e=d.getHCells(),f=a.$getElements(),g=a.getBody(),h=p(a._eFill),i=h.firstChild;e[c];)c==d._nLeft&&(i=g.firstChild),(b=f[c++])&&(i!=b?(c<=d._nLeft||c>d._nRight?h:g).insertBefore(b,i):i=i.nextSibling),c==d._nRight&&(i=a._eFill.nextSibling)}function c(a){for(var c,d=0;c=a._aLockedHeadRow[d++];)b(c);for(var c,d=0;c=a._aLockedRow[d++];)b(c)}var d=ecui,e=d.array,f=d.dom,g=d.ui,h=d.util,i=Math,j=i.max,k=RegExp,l=navigator.userAgent,m=e.indexOf,n=f.children,o=f.create,p=f.getParent,q=f.getAttribute,r=f.insertBefore,s=f.remove,t=(h.blank,h.toNumber),u=d.$fastCreate,v=d.dispose,w=d.$bind,x=d.inherits,y=/firefox\/(\d+\.\d)/i.test(l)?k.$1-0:void 0;eventNames=["mousedown","mouseover","mousemove","mouseout","mouseup","click","dblclick","focus","blur","activate","deactivate","keydown","keypress","keyup","mousewheel"],UI_CONTROL=g.Control,UI_CONTROL_CLASS=UI_CONTROL.prototype,UI_TABLE=g.Table,UI_TABLE_CLASS=UI_TABLE.prototype,UI_TABLE_ROW=UI_TABLE_CLASS.Row,UI_TABLE_ROW_CLASS=UI_TABLE_ROW.prototype;var z=g.LockedTable=x(UI_TABLE,"*locked-table",null,function(b,c){var d,e=0,f=this.getType(),g=this._aHeadRows,h=g.concat(this._aRows),i=o("","position:absolute;top:0px;left:0px;overflow:hidden"),j=[],k=this._aLockedRow=[],l=this._aLockedHeadRow=[];for(this._nLeft=c.leftLock||0,this._nRight=this.getColumnCount()-(c.rightLock||0);b=h[e];)b=b.getMain(),j[e++]='<tr class="'+b.className+'" style="'+b.style.cssText+'"><td style="padding:0px;border:0px"></td></tr>';for(i.innerHTML='<div class="'+f+'-locked-head" style="position:absolute;top:0px;left:0px"><div style="white-space:nowrap;position:absolute"><table cellspacing="0"><thead>'+j.splice(0,g.length).join("")+'</thead></table></div></div><div class="'+f+'-locked-layout" style="position:absolute;left:0px;overflow:hidden"><div style="white-space:nowrap;position:absolute;top:0px;left:0px"><table cellspacing="0"><tbody>'+j.join("")+"</tbody></table></div></div>",d=this._uLockedHead=u(UI_CONTROL,i.firstChild,this),d.$setBody(b=d.getMain().lastChild.lastChild.firstChild),e=0,j=n(b);d=j[e];)l[e]=a(d,g[e++]);for(d=this._uLockedMain=u(UI_CONTROL,b=i.lastChild,this),d.$setBody(b=b.lastChild),e=0,j=n(b.lastChild.lastChild);d=j[e];)k[e]=a(d,this._aRows[e++]);r(i.firstChild,this._uHead.getOuter()),r(i.firstChild,p(this.getBody()))});UI_LOCKED_TABLE_CLASS=z.prototype,UI_LOCKED_TABLE_ROW_CLASS=(UI_LOCKED_TABLE_CLASS.Row=x(UI_TABLE_CLASS.Row)).prototype,UI_LOCKED_TABLE_ROW_CLASS.$dispose=function(){this._eFill=null,UI_TABLE_ROW_CLASS.$dispose.call(this)},UI_LOCKED_TABLE_CLASS.$cache=function(a,b){UI_TABLE_CLASS.$cache.call(this,a,b);var c=0,d=this.getRows(),e=this.getHCells(),f=e[this._nLeft].$$pos;for(this.$$paddingTop=j(this.$$paddingTop,this._uLockedHead.getBody().offsetHeight),this.$$mainWidth-=(this.$$paddingLeft=f)+(this.$$paddingRight=this._nRight<e.length?this.$$mainWidth-e[this._nRight].$$pos:0);a=e[c++];)a.$$pos-=f;for(c=0,f=0;a=d[c++];)a.getCell(this._nLeft).cache(!1,!0),a.$$pos=f,f+=j(a.getHeight(),a._eFill.offsetHeight);f&&(this.$$mainHeight=f,this._bCreated||(this.$$mainHeight+=this.$$paddingTop)),this._uLockedHead.cache(!1,!0),this._uLockedMain.cache(!1,!0)},UI_LOCKED_TABLE_CLASS.$pagescroll=function(){UI_TABLE_CLASS.$pagescroll.call(this),this._uVScrollbar||(this._uLockedHead.getOuter().style.top=this._uHead.getOuter().style.top)},UI_LOCKED_TABLE_CLASS.$resize=function(){var a=this.getMain().style;a.paddingLeft=a.paddingRight="",this.$$paddingLeft=this.$$paddingRight=0,UI_TABLE_CLASS.$resize.call(this)},UI_LOCKED_TABLE_CLASS.$scroll=function(){UI_TABLE_CLASS.$scroll.call(this),this._uLockedMain.getBody().style.top=this.getBody().style.top},UI_LOCKED_TABLE_CLASS.$setSize=function(a,b){var c=this.getMain().style,d=0,e=p(this.getBody()),f=this._uLockedHead,g=(this._uLockedMain,p(p(f.getBody())).style);c.paddingLeft=this.$$paddingLeft+"px",c.paddingRight=this.$$paddingRight+"px",UI_TABLE_CLASS.$setSize.call(this,a,b),c=this._uHead.getWidth()+this.$$paddingLeft+this.$$paddingRight,f.$setSize(c,this.$$paddingTop),g.height=this.$$paddingTop+"px",this._uLockedMain.$setSize(c,t(e.style.height));try{g.width=this._uLockedMain.getBody().lastChild.style.width=c+"px"}catch(a){}this._uLockedMain.getOuter().style.top=this.$$paddingTop+"px",a=e.style.width;var h,i=this._aLockedHeadRow;for(b=this.$$paddingTop/i.length,d=0;c=i[d];d++)c._eFill.style.width=a,c._eFill.style.height=b+"px",(c=c.getCell(this._nLeft))&&(h=y?0:c.$getBasicHeight(),y&&y>15&&(h=c.$getBasicHeight()),c=c.getOuter(),g=q(c,"rowSpan")||0,g&&(g=parseInt(g,10)),isNaN(h)||(c.style.height=j(g*b-h,0)+"px"));for(i=this._aLockedRow,d=0;c=i[d];d++)c._eFill.style.width=a,g=j(b=c.getCell(this._nLeft).getOuter().offsetHeight,c._eFill.offsetHeight),g>c._eFill.offsetHeight?c._eFill.style.height=g+"px":b<g&&(h=y?0:c.getCell(this._nLeft).$getBasicHeight(),y&&y>15&&(h=c.getCell(this._nLeft).$getBasicHeight()),c.getCell(this._nLeft).getOuter().style.height=j(g-h,0)+"px")},UI_LOCKED_TABLE_CLASS.addColumn=function(a,b){return b>=0&&(b<this._nLeft&&this._nLeft++,b<this._nRight&&this._nRight++),UI_TABLE_CLASS.addColumn.call(this,a,b)},UI_LOCKED_TABLE_CLASS.removeRow=function(a){var b,c=this._aRows[a],d=c._eFill.parentNode;c&&(c.hide(),b=c.getOuter(),v(c),s(b,!0),s(d,!0),this._aRows.splice(a,1),this._aLockedRow.splice(a,1),this.repaint())},UI_LOCKED_TABLE_CLASS.addRow=function(c,d){var e=UI_TABLE_CLASS.addRow.call(this,c,d),d=m(this.getRows(),e),f=this._aLockedRow[d],g=e.getMain(),h=o();return h.innerHTML='<table cellspacing="0"><tbody><tr class="'+g.className+'" style="'+g.style.cssText+'"><td style="padding:0px;border:0px"></td></tr></tbody></table>',h=a(g=h.lastChild.lastChild.lastChild,e),f=f?f._eFill.parentNode:null,this._uLockedMain.getBody().lastChild.lastChild.insertBefore(g,f),this._aLockedRow.splice(d,0,h),b(h),this.repaint(),e},UI_LOCKED_TABLE_CLASS.init=function(){c(this),UI_TABLE_CLASS.init.call(this)},UI_LOCKED_TABLE_CLASS.removeColumn=function(a){UI_TABLE_CLASS.removeColumn.call(this,a),a>=0&&(a<this._nLeft&&this._nLeft--,a<this._nRight&&this._nRight--)},function(){function a(a){UI_LOCKED_TABLE_ROW_CLASS[a]=function(b){UI_CONTROL_CLASS[a].call(this,b),p(this._eFill).className=this.getMain().className}}for(var b=0;b<11;)a("$"+eventNames[b++])}()}(),function(){function a(a){b.hide(),this._fAction&&this._fAction.call(null,a)}var b,c=ecui,d=c.dom,e=d.create,f=c.create,g=c.dispose,h=[];c.$messagebox=function(c,d,i,j){b||(b=f("Form",{main:e("ui-form ui-messagebox"),hide:!0,parent:document.body,autoCenter:!0,closeButton:!1}),n=b.getBody(),n.innerHTML='<div class="ui-messagebox-text"></div><div class="ui-messagebox-bottom"></div>');var k,l=0,m=i.length,n=b.getBody(),o=n.lastChild;if(!b.isShow()){for(;m>h.length;)h.push(f("Button",{element:e("ui-button","","span"),parent:o}));for(g(n=n.firstChild),n.innerHTML=c;k=h[l];l++)l<m?(k.setContent(i[l].text),k.$show(),k._fAction=i[l].action,k.onclick=a,i[l].className?k.setClass(i[l].className):k.setClass(k.getPrimary())):k.$hide();b.setTitle(d||""),b.showModal(j)}},c.alert=function(a,b){c.$messagebox(a,"",[{text:"",className:"ui-button-g",action:b}])},c.confirm=function(a,b,d){c.$messagebox(a,"",[{text:"",className:"ui-button-g",action:b},{text:"",action:d}])}}();